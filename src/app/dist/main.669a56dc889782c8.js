"use strict";(self.webpackChunksimplytutorapp=self.webpackChunksimplytutorapp||[]).push([[179],{236:()=>{function _e(t){return"function"==typeof t}function au(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Jl=au(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ro(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class en{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(_e(r))try{r()}catch(s){e=s instanceof Jl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{JC(s)}catch(o){e=e??[],o instanceof Jl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Jl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)JC(e);else{if(e instanceof en){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ro(n,e)}remove(e){const{_finalizers:n}=this;n&&ro(n,e),e instanceof en&&e._removeParent(this)}}en.EMPTY=(()=>{const t=new en;return t.closed=!0,t})();const QC=en.EMPTY;function YC(t){return t instanceof en||t&&"closed"in t&&_e(t.remove)&&_e(t.add)&&_e(t.unsubscribe)}function JC(t){_e(t)?t():t.unsubscribe()}const Zi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xl={setTimeout(t,e,...n){const{delegate:r}=Xl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function XC(t){Xl.setTimeout(()=>{const{onUnhandledError:e}=Zi;if(!e)throw t;e(t)})}function Mg(){}const ZB=Rg("C",void 0,void 0);function Rg(t,e,n){return{kind:t,value:e,error:n}}let es=null;function Zl(t){if(Zi.useDeprecatedSynchronousErrorHandling){const e=!es;if(e&&(es={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=es;if(es=null,n)throw r}}else t()}class Ng extends en{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,YC(e)&&e.add(this)):this.destination=o$}static create(e,n,r){return new uu(e,n,r)}next(e){this.isStopped?Pg(function t$(t){return Rg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Pg(function e$(t){return Rg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pg(ZB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const r$=Function.prototype.bind;function kg(t,e){return r$.call(t,e)}class i${constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ed(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ed(r)}else ed(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ed(n)}}}class uu extends Ng{constructor(e,n,r){let i;if(super(),_e(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Zi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kg(e.next,s),error:e.error&&kg(e.error,s),complete:e.complete&&kg(e.complete,s)}):i=e}this.destination=new i$(i)}}function ed(t){Zi.useDeprecatedSynchronousErrorHandling?function n$(t){Zi.useDeprecatedSynchronousErrorHandling&&es&&(es.errorThrown=!0,es.error=t)}(t):XC(t)}function Pg(t,e){const{onStoppedNotification:n}=Zi;n&&Xl.setTimeout(()=>n(t,e))}const o$={closed:!0,next:Mg,error:function s$(t){throw t},complete:Mg},Og="function"==typeof Symbol&&Symbol.observable||"@@observable";function di(t){return t}function ZC(t){return 0===t.length?di:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function c$(t){return t&&t instanceof Ng||function u$(t){return t&&_e(t.next)&&_e(t.error)&&_e(t.complete)}(t)&&YC(t)}(n)?n:new uu(n,r,i);return Zl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=eS(r))((i,s)=>{const o=new uu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Og](){return this}pipe(...n){return ZC(n)(this)}toPromise(n){return new(n=eS(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function eS(t){var e;return null!==(e=t??Zi.Promise)&&void 0!==e?e:Promise}const l$=au(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Un=(()=>{class t extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new tS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new l$}next(n){Zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?QC:(this.currentObservers=null,s.push(n),new en(()=>{this.currentObservers=null,ro(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Le;return n.source=this,n}}return t.create=(e,n)=>new tS(e,n),t})();class tS extends Un{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:QC}}class Tn extends Un{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function nS(t){return _e(t?.lift)}function tt(t){return e=>{if(nS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function nt(t,e,n,r,i){return new d$(t,e,n,r,i)}class d$ extends Ng{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ve(t,e){return tt((n,r)=>{let i=0;n.subscribe(nt(r,s=>{r.next(t.call(e,s,i++))}))})}function hi(t){return this instanceof hi?(this.v=t,this):new hi(t)}function oS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ug(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const aS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function uS(t){return _e(t?.then)}function cS(t){return _e(t[Og])}function lS(t){return Symbol.asyncIterator&&_e(t?.[Symbol.asyncIterator])}function dS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hS=function k$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fS(t){return _e(t?.[hS])}function pS(t){return function sS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof hi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield hi(n.read());if(i)return yield hi(void 0);yield yield hi(r)}}finally{n.releaseLock()}})}function gS(t){return _e(t?.getReader)}function Cn(t){if(t instanceof Le)return t;if(null!=t){if(cS(t))return function P$(t){return new Le(e=>{const n=t[Og]();if(_e(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(aS(t))return function O$(t){return new Le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(uS(t))return function F$(t){return new Le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,XC)})}(t);if(lS(t))return mS(t);if(fS(t))return function L$(t){return new Le(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(gS(t))return function V$(t){return mS(pS(t))}(t)}throw dS(t)}function mS(t){return new Le(e=>{(function U$(t,e){var n,r,i,s;return function rS(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=oS(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Nr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function _t(t,e,n=1/0){return _e(e)?_t((r,i)=>ve((s,o)=>e(r,s,i,o))(Cn(t(r,i))),n):("number"==typeof e&&(n=e),tt((r,i)=>function j$(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Cn(n(m,l++)).subscribe(nt(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Nr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(nt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function io(t=1/0){return _t(di,t)}const nr=new Le(t=>t.complete());function jg(t){return t[t.length-1]}function cu(t){return function $$(t){return t&&_e(t.schedule)}(jg(t))?t.pop():void 0}function td(t,e=0){return tt((n,r)=>{n.subscribe(nt(r,i=>Nr(r,t,()=>r.next(i),e),()=>Nr(r,t,()=>r.complete(),e),i=>Nr(r,t,()=>r.error(i),e)))})}function nd(t,e=0){return tt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function yS(t,e){if(!t)throw new Error("Iterable cannot be null");return new Le(n=>{Nr(n,e,()=>{const r=t[Symbol.asyncIterator]();Nr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vt(t,e){return e?function Y$(t,e){if(null!=t){if(cS(t))return function G$(t,e){return Cn(t).pipe(nd(e),td(e))}(t,e);if(aS(t))return function W$(t,e){return new Le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(uS(t))return function q$(t,e){return Cn(t).pipe(nd(e),td(e))}(t,e);if(lS(t))return yS(t,e);if(fS(t))return function K$(t,e){return new Le(n=>{let r;return Nr(n,e,()=>{r=t[hS](),Nr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}(t,e);if(gS(t))return function Q$(t,e){return yS(pS(t),e)}(t,e)}throw dS(t)}(t,e):Cn(t)}function G(...t){return vt(t,cu(t))}function _S(t={}){const{connector:e=(()=>new Un),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return tt((m,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Bg(p,i))}),w.subscribe(y),!o&&c>0&&(o=new uu({next:_=>w.next(_),error:_=>{d=!0,h(),a=Bg(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=Bg(f,r),w.complete()}}),Cn(m).subscribe(o))})(s)}}function Bg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new uu({next:()=>{r.unsubscribe(),t()}});return Cn(e(...n)).subscribe(r)}function rr(t,e){return tt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(nt(r,u=>{i?.unsubscribe();let c=0;const l=s++;Cn(t(u,l)).subscribe(i=nt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Z$(t,e){return t===e}function pe(t){for(let e in t)if(t[e]===pe)return e;throw Error("Could not find renamed property on target object.")}function rt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function $g(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const eH=pe({__forward_ref__:pe});function Hg(t){return t.__forward_ref__=Hg,t.toString=function(){return rt(this())},t}function z(t){return zg(t)?t():t}function zg(t){return"function"==typeof t&&t.hasOwnProperty(eH)&&t.__forward_ref__===Hg}function Gg(t){return t&&!!t.\u0275providers}class C extends Error{constructor(e,n){super(function id(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function W(t){return"string"==typeof t?t:null==t?"":String(t)}function qg(t,e){throw new C(-201,!1)}function Sn(t,e){null==t&&function $(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function sd(t){return wS(t,ad)||wS(t,IS)}function wS(t,e){return t.hasOwnProperty(e)?t[e]:null}function od(t){return t&&(t.hasOwnProperty(Wg)||t.hasOwnProperty(uH))?t[Wg]:null}const ad=pe({\u0275prov:pe}),Wg=pe({\u0275inj:pe}),IS=pe({ngInjectableDef:pe}),uH=pe({ngInjectorDef:pe});var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{});let Kg;function tn(t){const e=Kg;return Kg=t,e}function DS(t,e,n){const r=sd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&te.Optional?null:void 0!==e?e:void qg(rt(t))}const Ie=globalThis,lu={},Zg="__NG_DI_FLAG__",ud="ngTempTokenPath",dH=/\n/gm,TS="__source";let so;function fi(t){const e=so;return so=t,e}function pH(t,e=te.Default){if(void 0===so)throw new C(-203,!1);return null===so?DS(t,void 0,e):so.get(t,e&te.Optional?null:void 0,e)}function U(t,e=te.Default){return(function ES(){return Kg}()||pH)(z(t),e)}function P(t,e=te.Default){return U(t,cd(e))}function cd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function em(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],u=gH(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function du(t,e){return t[Zg]=e,t.prototype[Zg]=e,t}function gH(t){return t[Zg]}function kr(t){return{toString:t}.toString()}var ld=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ld||{}),Bn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Bn||{});const ir={},le=[],dd=pe({\u0275cmp:pe}),tm=pe({\u0275dir:pe}),nm=pe({\u0275pipe:pe}),SS=pe({\u0275mod:pe}),Pr=pe({\u0275fac:pe}),hu=pe({__NG_ELEMENT_ID__:pe}),AS=pe({__NG_ENV_ID__:pe});function xS(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function rm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];RS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function MS(t){return 3===t||4===t||6===t}function RS(t){return 64===t.charCodeAt(0)}function fu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||NS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function NS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const kS="ng-template";function _H(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==xS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function PS(t){return 4===t.type&&t.value!==kS}function vH(t,e,n){return e===(4!==t.type||n?t.value:kS)}function wH(t,e,n){let r=4;const i=t.attrs||[],s=function DH(t){for(let e=0;e<t.length;e++)if(MS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!vH(t,u,n)||""===u&&1===e.length){if($n(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!_H(t.attrs,c,n)){if($n(r))return!1;o=!0}continue}const d=IH(8&r?"class":u,i,PS(t),n);if(-1===d){if($n(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==xS(f,c,0)||2&r&&c!==h){if($n(r))return!1;o=!0}}}}else{if(!o&&!$n(r)&&!$n(u))return!1;if(o&&$n(u))continue;o=!1,r=u|1&r}}return $n(r)||o}function $n(t){return 0==(1&t)}function IH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function bH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function OS(t,e,n=!1){for(let r=0;r<e.length;r++)if(wH(t,e[r],n))return!0;return!1}function FS(t,e){return t?":not("+e.trim()+")":e}function CH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!$n(o)&&(e+=FS(s,i),i=""),r=o,s=s||!$n(r);n++}return""!==i&&(e+=FS(s,i)),e}function im(t){return kr(()=>{const e=VS(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ld.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Bn.Emulated,styles:t.styles||le,_:null,schemas:t.schemas||null,tView:null,id:""};US(n);const r=t.dependencies;return n.directiveDefs=hd(r,!1),n.pipeDefs=hd(r,!0),n.id=function PH(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function MH(t){return se(t)||wt(t)}function RH(t){return null!==t}function sr(t){return kr(()=>({type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function LS(t,e){if(null==t)return ir;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function jt(t){return kr(()=>{const e=VS(t);return US(e),e})}function se(t){return t[dd]||null}function wt(t){return t[tm]||null}function Bt(t){return t[nm]||null}function mn(t,e){const n=t[SS]||null;if(!n&&!0===e)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return n}function VS(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ir,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LS(t.inputs,e),outputs:LS(t.outputs)}}function US(t){t.features?.forEach(e=>e(t))}function hd(t,e){if(!t)return null;const n=e?Bt:MH;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(RH)}const He=0,R=1,Y=2,Ne=3,Hn=4,pu=5,Rt=6,ao=7,ze=8,pi=9,uo=10,K=11,gu=12,jS=13,co=14,Ge=15,mu=16,lo=17,or=18,yu=19,BS=20,gi=21,Or=22,fd=23,pd=24,ne=25,sm=1,$S=2,ar=7,ho=9,It=11;function rn(t){return Array.isArray(t)&&"object"==typeof t[sm]}function sn(t){return Array.isArray(t)&&!0===t[sm]}function om(t){return 0!=(4&t.flags)}function ns(t){return t.componentOffset>-1}function md(t){return 1==(1&t.flags)}function zn(t){return!!t.template}function am(t){return 0!=(512&t[Y])}function rs(t,e){return t.hasOwnProperty(Pr)?t[Pr]:null}let jH=Ie.WeakRef??class UH{constructor(e){this.ref=e}deref(){return this.ref}},$H=0,ur=null,yd=!1;function ct(t){const e=ur;return ur=t,e}class WS{constructor(){this.id=$H++,this.ref=function BH(t){return new jH(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=yd;yd=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{yd=e}}producerAccessed(){if(yd)throw new Error("");if(null===ur)return;let e=ur.producers.get(this.id);void 0===e?(e={consumerNode:ur.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ur.trackingVersion},ur.producers.set(this.id,e),this.consumers.set(ur.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=ur.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ur?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let KS=null;const YS=()=>{};class qH extends WS{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=YS,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=ct(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=YS,this.watch(this.registerOnCleanup)}finally{ct(e)}}cleanup(){this.cleanupFn()}}class WH{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function is(){return JS}function JS(t){return t.type.prototype.ngOnChanges&&(t.setInput=QH),KH}function KH(){const t=ZS(this),e=t?.current;if(e){const n=t.previous;if(n===ir)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function QH(t,e,n,r){const i=this.declaredInputs[n],s=ZS(t)||function YH(t,e){return t[XS]=e}(t,{previous:ir,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new WH(u&&u.currentValue,e,a===ir),t[r]=e}is.ngInherit=!0;const XS="__ngSimpleChanges__";function ZS(t){return t[XS]||null}const cr=function(t,e,n){};function be(t){for(;Array.isArray(t);)t=t[He];return t}function on(t,e){return be(e[t.index])}function nA(t,e){return t.data[e]}function yn(t,e){const n=e[t];return rn(n)?n:n[He]}function mi(t,e){return null==e?null:t[e]}function rA(t){t[lo]=0}function r4(t){1024&t[Y]||(t[Y]|=1024,sA(t,1))}function iA(t){1024&t[Y]&&(t[Y]&=-1025,sA(t,-1))}function sA(t,e){let n=t[Ne];if(null===n)return;n[pu]+=e;let r=n;for(n=n[Ne];null!==n&&(1===e&&1===r[pu]||-1===e&&0===r[pu]);)n[pu]+=e,r=n,n=n[Ne]}const H={lFrame:mA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function uA(){return H.bindingsEnabled}function E(){return H.lFrame.lView}function oe(){return H.lFrame.tView}function Et(){let t=cA();for(;null!==t&&64===t.type;)t=t.parent;return t}function cA(){return H.lFrame.currentTNode}function lr(t,e){const n=H.lFrame;n.currentTNode=t,n.isParent=e}function fm(){return H.lFrame.isParent}function go(){return H.lFrame.bindingIndex++}function y4(t,e){const n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,gm(e)}function gm(t){H.lFrame.currentDirectiveIndex=t}function ym(t){H.lFrame.currentQueryIndex=t}function v4(t){const e=t[R];return 2===e.type?e.declTNode:1===e.type?t[Rt]:null}function pA(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&te.Host||(i=v4(s),null===i||(s=s[co],10&i.type))););if(null===i)return!1;e=i,t=s}const r=H.lFrame=gA();return r.currentTNode=e,r.lView=t,!0}function _m(t){const e=gA(),n=t[R];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function gA(){const t=H.lFrame,e=null===t?null:t.child;return null===e?mA(t):e}function mA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function yA(){const t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _A=yA;function vm(){const t=yA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ht(){return H.lFrame.selectedIndex}function ss(t){H.lFrame.selectedIndex=t}let wA=!0;function Id(){return wA}function yi(t){wA=t}function Ed(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Dd(t,e,n){IA(t,e,3,n)}function bd(t,e,n,r){(3&t[Y])===n&&IA(t,e,n,r)}function wm(t,e){let n=t[Y];(3&n)===e&&(n&=8191,n+=1,t[Y]=n)}function IA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[lo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[lo]+=65536),(a<s||-1==s)&&(S4(t,n,e,u),t[lo]=(4294901760&t[lo])+u+2),u++}function EA(t,e){cr(4,t,e);const n=ct(null);try{e.call(t)}finally{ct(n),cr(5,t,e)}}function S4(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Y]>>13<t[lo]>>16&&(3&t[Y])===e&&(t[Y]+=8192,EA(a,s)):EA(a,s)}const mo=-1;class wu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Em(t){return t!==mo}function Iu(t){return 32767&t}function Eu(t,e){let n=function R4(t){return t>>16}(t),r=e;for(;n>0;)r=r[co],n--;return r}let Dm=!0;function Td(t){const e=Dm;return Dm=t,e}const DA=255,bA=5;let N4=0;const dr={};function Cd(t,e){const n=TA(t,e);if(-1!==n)return n;const r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,bm(r.data,t),bm(e,null),bm(r.blueprint,null));const i=Sd(t,e),s=t.injectorIndex;if(Em(i)){const o=Iu(i),a=Eu(i,e),u=a[R].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function bm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function TA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Sd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=kA(i),null===r)return mo;if(n++,i=i[co],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return mo}function Tm(t,e,n){!function k4(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(hu)&&(r=n[hu]),null==r&&(r=n[hu]=N4++);const i=r&DA;e.data[t+(i>>bA)]|=1<<i}(t,e,n)}function CA(t,e,n){if(n&te.Optional||void 0!==t)return t;qg()}function SA(t,e,n,r){if(n&te.Optional&&void 0===r&&(r=null),!(n&(te.Self|te.Host))){const i=t[pi],s=tn(void 0);try{return i?i.get(e,r,n&te.Optional):DS(e,r,n&te.Optional)}finally{tn(s)}}return CA(r,0,n)}function AA(t,e,n,r=te.Default,i){if(null!==t){if(2048&e[Y]&&!(r&te.Self)){const o=function U4(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Y]&&!(512&o[Y]);){const a=xA(s,o,n,r|te.Self,dr);if(a!==dr)return a;let u=s.parent;if(!u){const c=o[BS];if(c){const l=c.get(n,dr,r);if(l!==dr)return l}u=kA(o),o=o[co]}s=u}return i}(t,e,n,r,dr);if(o!==dr)return o}const s=xA(t,e,n,r,dr);if(s!==dr)return s}return SA(e,n,r,i)}function xA(t,e,n,r,i){const s=function F4(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(hu)?t[hu]:void 0;return"number"==typeof e?e>=0?e&DA:V4:e}(n);if("function"==typeof s){if(!pA(e,t,r))return r&te.Host?CA(i,0,r):SA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&te.Optional)return o;qg()}finally{_A()}}else if("number"==typeof s){let o=null,a=TA(t,e),u=mo,c=r&te.Host?e[Ge][Rt]:null;for((-1===a||r&te.SkipSelf)&&(u=-1===a?Sd(t,e):e[a+8],u!==mo&&RA(r,!1)?(o=e[R],a=Iu(u),e=Eu(u,e)):a=-1);-1!==a;){const l=e[R];if(MA(s,a,l.data)){const d=O4(a,e,n,o,r,c);if(d!==dr)return d}u=e[a+8],u!==mo&&RA(r,e[R].data[a+8]===c)&&MA(s,a,e)?(o=l,a=Iu(u),e=Eu(u,e)):a=-1}}return i}function O4(t,e,n,r,i,s){const o=e[R],a=o.data[t+8],l=function Ad(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&zn(f)&&f.type===n)return u}return null}(a,o,n,null==r?ns(a)&&Dm:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==l?os(e,o,l,a):dr}function os(t,e,n,r){let i=t[n];const s=e.data;if(function A4(t){return t instanceof wu}(i)){const o=i;o.resolving&&function tH(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,`Circular dependency in DI detected for ${t}${n}`)}(function fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():W(t)}(s[n]));const a=Td(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?tn(o.injectImpl):null;pA(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function C4(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=JS(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&tn(c),Td(a),o.resolving=!1,_A()}}return i}function MA(t,e,n){return!!(n[e+(t>>bA)]&1<<t)}function RA(t,e){return!(t&te.Self||t&te.Host&&e)}class zt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return AA(this._tNode,this._lView,e,cd(r),n)}}function V4(){return new zt(Et(),E())}function Cm(t){return zg(t)?()=>{const e=Cm(z(t));return e&&e()}:rs(t)}function kA(t){const e=t[R],n=e.type;return 2===n?e.declTNode:1===n?t[Rt]:null}const _o="__parameters__";function wo(t,e,n){return kr(()=>{const r=function Sm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(_o)?u[_o]:Object.defineProperty(u,_o,{value:[]})[_o];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Eo(t,e){t.forEach(n=>Array.isArray(n)?Eo(n,e):e(n))}function OA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Md(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Gt=du(wo("Optional"),8),Nd=du(wo("SkipSelf"),4);function Ld(t){return 128==(128&t.flags)}var _i=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_i||{});const km=new Map;let mz=0;const Om="__ngContext__";function Nt(t,e){rn(e)?(t[Om]=e[yu],function _z(t){km.set(t[yu],t)}(e)):t[Om]=e}let Fm;function Lm(t,e){return Fm(t,e)}function Au(t){const e=t[Ne];return sn(e)?e[Ne]:e}function nx(t){return ix(t[gu])}function rx(t){return ix(t[Hn])}function ix(t){for(;null!==t&&!sn(t);)t=t[Hn];return t}function Co(t,e,n,r,i){if(null!=r){let s,o=!1;sn(r)?s=r:rn(r)&&(o=!0,r=r[He]);const a=be(r);0===t&&null!==n?null==i?ux(e,n,a):as(e,n,a,i||null,!0):1===t&&null!==n?as(e,n,a,i||null,!0):2===t?function zd(t,e,n){const r=$d(t,e);r&&function Lz(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function jz(t,e,n,r,i){const s=n[ar];s!==be(n)&&Co(e,t,r,s,i);for(let a=It;a<n.length;a++){const u=n[a];Mu(u[R],u,t,e,r,s)}}(e,t,s,n,i)}}function jd(t,e,n){return t.createElement(e,n)}function ox(t,e){const n=t[ho],r=n.indexOf(e);iA(e),n.splice(r,1)}function Bd(t,e){if(t.length<=It)return;const n=It+e,r=t[n];if(r){const i=r[mu];null!==i&&i!==t&&ox(i,r),e>0&&(t[n-1][Hn]=r[Hn]);const s=Md(t,It+e);!function xz(t,e){Mu(t,e,e[K],2,null,null),e[He]=null,e[Rt]=null}(r[R],r);const o=s[or];null!==o&&o.detachView(s[R]),r[Ne]=null,r[Hn]=null,r[Y]&=-129}return r}function Um(t,e){if(!(256&e[Y])){const n=e[K];e[fd]?.destroy(),e[pd]?.destroy(),n.destroyNode&&Mu(t,e,n,3,null,null),function Nz(t){let e=t[gu];if(!e)return jm(t[R],t);for(;e;){let n=null;if(rn(e))n=e[gu];else{const r=e[It];r&&(n=r)}if(!n){for(;e&&!e[Hn]&&e!==t;)rn(e)&&jm(e[R],e),e=e[Ne];null===e&&(e=t),rn(e)&&jm(e[R],e),n=e&&e[Hn]}e=n}}(e)}}function jm(t,e){if(!(256&e[Y])){e[Y]&=-129,e[Y]|=256,function Fz(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof wu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];cr(4,a,u);try{u.call(a)}finally{cr(5,a,u)}}else{cr(4,i,s);try{s.call(i)}finally{cr(5,i,s)}}}}}(t,e),function Oz(t,e){const n=t.cleanup,r=e[ao];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[ao]=null);const i=e[gi];if(null!==i){e[gi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[R].type&&e[K].destroy();const n=e[mu];if(null!==n&&sn(e[Ne])){n!==e[Ne]&&ox(n,e);const r=e[or];null!==r&&r.detachView(t)}!function vz(t){km.delete(t[yu])}(e)}}function Bm(t,e,n){return function ax(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[He];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Bn.None||s===Bn.Emulated)return null}return on(r,n)}}(t,e.parent,n)}function as(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ux(t,e,n){t.appendChild(e,n)}function cx(t,e,n,r,i){null!==r?as(t,e,n,r,i):ux(t,e,n)}function $d(t,e){return t.parentNode(e)}let $m,qm,hx=function dx(t,e,n){return 40&t.type?on(t,n):null};function Hd(t,e,n,r){const i=Bm(t,r,e),s=e[K],a=function lx(t,e,n){return hx(t,e,n)}(r.parent||e[Rt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)cx(s,i,n[u],a,!1);else cx(s,i,n,a,!1);void 0!==$m&&$m(s,r,e,n,i)}function xu(t,e){if(null!==e){const n=e.type;if(3&n)return on(e,t);if(4&n)return Hm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return xu(t,r);{const i=t[e.index];return sn(i)?Hm(-1,i):be(i)}}if(32&n)return Lm(e,t)()||be(t[e.index]);{const r=px(t,e);return null!==r?Array.isArray(r)?r[0]:xu(Au(t[Ge]),r):xu(t,e.next)}}return null}function px(t,e){return null!==e?t[Ge][Rt].projection[e.projection]:null}function Hm(t,e){const n=It+t+1;if(n<e.length){const r=e[n],i=r[R].firstChild;if(null!==i)return xu(r,i)}return e[ar]}function zm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Nt(be(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)zm(t,e,n.child,r,i,s,!1),Co(e,t,i,a,s);else if(32&u){const c=Lm(n,r);let l;for(;l=c();)Co(e,t,i,l,s);Co(e,t,i,a,s)}else 16&u?mx(t,e,r,n,i,s):Co(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Mu(t,e,n,r,i,s){zm(n,r,t.firstChild,e,i,s,!1)}function mx(t,e,n,r,i,s){const o=n[Ge],u=o[Rt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Co(e,t,i,u[c],s);else{let c=u;const l=o[Ne];Ld(r)&&(c.flags|=128),zm(t,e,c,l,i,s,!0)}}function yx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _x(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&rm(t,e,r),null!==i&&yx(t,e,i),null!==s&&function $z(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pu=new V("ENVIRONMENT_INITIALIZER"),Nx=new V("INJECTOR",-1),kx=new V("INJECTOR_DEF_TYPES");class Xm{get(e,n=lu){if(n===lu){const r=new Error(`NullInjectorError: No provider for ${rt(e)}!`);throw r.name="NullInjectorError",r}return n}}function gG(...t){return{\u0275providers:Ox(0,t),\u0275fromNgModule:!0}}function Ox(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Eo(e,o=>{const a=o;Kd(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Fx(i,s),n}function Fx(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Zm(i,s=>{e(s,r)})}}function Kd(t,e,n,r){if(!(t=z(t)))return!1;let i=null,s=od(t);const o=!s&&se(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=od(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Kd(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Eo(s.imports,l=>{Kd(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&Fx(c,e)}if(!a){const c=rs(i)||(()=>new i);e({provide:i,useFactory:c,deps:le},i),e({provide:kx,useValue:i,multi:!0},i),e({provide:Pu,useValue:()=>U(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Zm(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Zm(t,e){for(let n of t)Gg(n)&&(n=n.\u0275providers),Array.isArray(n)?Zm(n,e):e(n)}const mG=pe({provide:String,useValue:pe});function ey(t){return null!==t&&"object"==typeof t&&mG in t}function us(t){return"function"==typeof t}const ty=new V("Set Injector scope."),Qd={},_G={};let ny;function Yd(){return void 0===ny&&(ny=new Xm),ny}class xn{}class Jd extends xn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,iy(e,o=>this.processProvider(o)),this.records.set(Nx,Mo(void 0,this)),i.has("environment")&&this.records.set(xn,Mo(void 0,this));const s=this.records.get(ty);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(kx.multi,le,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=fi(this),r=tn(void 0);try{return e()}finally{fi(n),tn(r)}}get(e,n=lu,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(AS))return e[AS](this);r=cd(r);const s=fi(this),o=tn(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function DG(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&sd(e);u=c&&this.injectableDefInScope(c)?Mo(ry(e),Qd):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&te.Self?Yd():this.parent).get(e,n=r&te.Optional&&n===lu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ud]=a[ud]||[]).unshift(rt(e)),s)throw a;return function mH(t,e,n,r){const i=t[ud];throw e[TS]&&i.unshift(e[TS]),t.message=function yH(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=rt(e);if(Array.isArray(e))i=e.map(rt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):rt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dH,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ud]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{tn(o),fi(s)}}resolveInjectorInitializers(){const e=fi(this),n=tn(void 0);try{const i=this.get(Pu.multi,le,te.Self);for(const s of i)s()}finally{fi(e),tn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){let n=us(e=z(e))?e:z(e&&e.provide);const r=function wG(t){return ey(t)?Mo(void 0,t.useValue):Mo(function Ux(t,e,n){let r;if(us(t)){const i=z(t);return rs(i)||ry(i)}if(ey(t))r=()=>z(t.useValue);else if(function Vx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...em(t.deps||[]));else if(function Lx(t){return!(!t||!t.useExisting)}(t))r=()=>U(z(t.useExisting));else{const i=z(t&&(t.useClass||t.provide));if(!function IG(t){return!!t.deps}(t))return rs(i)||ry(i);r=()=>new i(...em(t.deps))}return r}(t),Qd)}(e);if(us(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Mo(void 0,Qd,!0),i.factory=()=>em(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Qd&&(n.value=_G,n.value=n.factory()),"object"==typeof n.value&&n.value&&function EG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ry(t){const e=sd(t),n=null!==e?e.factory:rs(t);if(null!==n)return n;if(t instanceof V)throw new C(204,!1);if(t instanceof Function)return function vG(t){const e=t.length;if(e>0)throw function Tu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new C(204,!1);const n=function aH(t){return t&&(t[ad]||t[IS])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new C(204,!1)}function Mo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iy(t,e){for(const n of t)Array.isArray(n)?iy(n,e):n&&Gg(n)?iy(n.\u0275providers,e):e(n)}const Xd=new V("AppId",{providedIn:"root",factory:()=>bG}),bG="ng",jx=new V("Platform Initializer"),wi=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bx=new V("CSP nonce",{providedIn:"root",factory:()=>function Ao(){if(void 0!==qm)return qm;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Hx=(t,e,n)=>null;function dy(t,e,n=!1){return Hx(t,e,n)}class PG{}class qx{}class FG{resolveComponentFactory(e){throw function OG(t){const e=Error(`No component factory found for ${rt(t)}.`);return e.ngComponent=t,e}(e)}}let ih=(()=>{class e{}return e.NULL=new FG,e})();function LG(){return No(Et(),E())}function No(t,e){return new Ii(on(t,e))}let Ii=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=LG,e})();class Kx{}let jG=(()=>{var t;class e{}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),e})();class Vu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Qx=new Vu("16.2.2"),py={};function Zx(t,e=null,n=null,r){const i=eM(t,e,n,r);return i.resolveInjectorInitializers(),i}function eM(t,e=null,n=null,r,i=new Set){const s=[n||le,gG(t)];return r=r||("object"==typeof t?void 0:rt(t)),new Jd(s,e||Yd(),r||null,i)}let qt=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return Zx({name:""},i,r,"");{const s=r.name??"";return Zx({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=lu,t.NULL=new Xm,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>U(Nx)}),t.__NG_ELEMENT_ID__=-1,e})();function Ur(t){return t instanceof Function?t():t}let yy=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new C(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),e})();function Uu(t){for(;t;){t[Y]|=64;const e=Au(t);if(am(t)&&!e)return t;t=e}return null}function _y(t){return t.ngOriginalError}class cs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&_y(e);for(;n&&_y(n);)n=_y(n);return n||null}}const sM=new V("",{providedIn:"root",factory:()=>!1});class cM extends WS{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Uu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=ct(this);this.trackingVersion++;try{e(n,r)}finally{ct(i)}}destroy(){this.trackingVersion++}}let ah=null;function lM(){return ah??=new cM,ah}function dM(t,e){return t[e]??lM()}function hM(t,e){const n=lM();n.hasReadASignal&&(t[e]=ah,n.lView=t,ah=new cM)}const J={};function vy(t){fM(oe(),E(),Ht()+t,!1)}function fM(t,e,n,r){if(!r)if(3==(3&e[Y])){const s=t.preOrderCheckHooks;null!==s&&Dd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&bd(e,s,0,n)}ss(n)}function B(t,e=te.Default){const n=E();return null===n?U(t,e):AA(Et(),n,z(t),e)}function uh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[He]=i,d[Y]=140|r,(null!==c||t&&2048&t[Y])&&(d[Y]|=2048),rA(d),d[Ne]=d[co]=t,d[ze]=n,d[uo]=o||t&&t[uo],d[K]=a||t&&t[K],d[pi]=u||t&&t[pi]||null,d[Rt]=s,d[yu]=function yz(){return mz++}(),d[Or]=l,d[BS]=c,d[Ge]=2==e.type?t[Ge]:d,d}function Oo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function wy(t,e,n,r,i){const s=cA(),o=fm(),u=t.data[e]=function c3(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function po(){return null!==H.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function m4(){return H.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function vu(){const t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return lr(s,!0),s}function ju(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gM(t,e,n,r,i){const s=dM(e,fd),o=Ht(),a=2&r;try{if(ss(-1),a&&e.length>ne&&fM(t,e,ne,!1),cr(a?2:0,i),a)s.runInContext(n,r,i);else{const c=ct(null);try{n(r,i)}finally{ct(c)}}}finally{a&&null===e[fd]&&hM(e,fd),ss(o),cr(a?3:1,i)}}function Iy(t,e,n){if(om(e)){const r=ct(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ct(r)}}}function Ey(t,e,n){uA()&&(function m3(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ns(n)&&function D3(t,e,n){const r=on(e,t),i=mM(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=ch(t,uh(t,i,null,o,r,e,null,t[uo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Cd(n,e),Nt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=os(e,t,a,n);Nt(c,e),null!==o&&b3(0,a-i,c,u,0,o),zn(u)&&(yn(n.index,e)[ze]=os(e,t,a,n))}}(t,e,n,on(n,e)),64==(64&n.flags)&&IM(t,e,n))}function Dy(t,e,n=on){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function mM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=by(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function by(t,e,n,r,i,s,o,a,u,c,l){const d=ne+r,h=d+i,f=function r3(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:J);return n}(d,h),p="function"==typeof c?c():c;return f[R]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let yM=t=>null;function _M(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?vM(n,e,i,s):r.hasOwnProperty(i)&&vM(n,e,r[i],s)}return n}function vM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Ty(t,e,n,r){if(uA()){const i=null===r?null:{"":-1},s=function _3(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(OS(e,o.selectors,!1))if(r||(r=[]),zn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Cy(t,e,a.length)}else r.unshift(o),Cy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&wM(t,e,n,o,i,a),i&&function v3(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new C(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=fu(n.mergedAttrs,n.attrs)}function wM(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Tm(Cd(n,e),t,r[c].type);!function I3(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=ju(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=fu(n.mergedAttrs,l.hostAttrs),E3(t,n,e,u,l),w3(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function l3(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=_M(d.inputs,l,u,h?h.inputs:null),c=_M(d.outputs,l,c,p);const m=null===u||null===o||PS(e)?null:T3(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function IM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function _4(){return H.lFrame.currentDirectiveIndex}();try{ss(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];gm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&y3(u,c)}}finally{ss(-1),gm(o)}}function y3(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Cy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function w3(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zn(e)&&(n[""]=t)}}function E3(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=rs(i.type)),o=new wu(s,zn(i),B);t.blueprint[r]=o,n[r]=o,function p3(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function g3(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,ju(t,n,i.hostVars,J),i)}function b3(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)EM(r,n,o[a++],o[a++],o[a++])}function EM(t,e,n,r,i){const s=ct(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ct(s)}}function T3(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function DM(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function bM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];ym(n[r]),o.contentQueries(2,e[s],s)}}}function ch(t,e){return t[gu]?t[jS][Hn]=e:t[gu]=e,t[jS]=e,e}function Ay(t,e,n){ym(0);const r=ct(null);try{e(t,n)}finally{ct(r)}}function xy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];EM(t.data[o],e[o],r,a,i)}}function jr(t,e,n){const r=function wd(t,e){return be(e[t])}(e,t);!function sx(t,e,n){t.setValue(e,n)}(t[K],r,n)}function C3(t,e){const n=yn(e,t),r=n[R];!function S3(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[He];null!==i&&null===n[Or]&&(n[Or]=dy(i,n[pi])),My(r,n,n[ze])}function My(t,e,n){_m(e);try{const r=t.viewQuery;null!==r&&Ay(1,r,n);const i=t.template;null!==i&&gM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bM(t,e),t.staticViewQueries&&Ay(2,t.viewQuery,n);const s=t.components;null!==s&&function A3(t,e){for(let n=0;n<e.length;n++)C3(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,vm()}}let xM=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=new qH(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let u;this.all.add(a),a.notify();const c=()=>{a.cleanup(),u?.(),this.all.delete(a),this.queue.delete(a)};return u=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),e})();function lh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=$g(i,a):2==s&&(r=$g(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Bu(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(be(s)),sn(s)){for(let a=It;a<s.length;a++){const u=s[a],c=u[R].firstChild;null!==c&&Bu(u[R],u,c,r)}s[ar]!==s[He]&&r.push(s[ar])}const o=n.type;if(8&o)Bu(t,e,n.child,r);else if(32&o){const a=Lm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=px(e,n);if(Array.isArray(a))r.push(...a);else{const u=Au(e[Ge]);Bu(u[R],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dh(t,e,n,r=!0){const i=e[uo],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{MM(t,e,t.template,n)}catch(u){throw r&&function AM(t,e){const n=t[pi],r=n?n.get(cs,null):null;r&&r.handleError(e)}(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function MM(t,e,n,r){const i=e[Y];if(256!=(256&i)){e[uo].effectManager?.flush(),_m(e);try{rA(e),function dA(t){return H.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&gM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Dd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&bd(e,c,0,null),wm(e,0)}if(function R3(t){for(let e=nx(t);null!==e;e=rx(e)){if(!e[$S])continue;const n=e[ho];for(let r=0;r<n.length;r++){r4(n[r])}}}(e),RM(e,2),null!==t.contentQueries&&bM(t,e),o){const c=t.contentCheckHooks;null!==c&&Dd(e,c)}else{const c=t.contentHooks;null!==c&&bd(e,c,1),wm(e,1)}!function n3(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=dM(e,pd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ss(~s);else{const o=s,a=n[++i],u=n[++i];y4(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[pd]&&hM(e,pd),ss(-1)}}(t,e);const a=t.components;null!==a&&kM(e,a,0);const u=t.viewQuery;if(null!==u&&Ay(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Dd(e,c)}else{const c=t.viewHooks;null!==c&&bd(e,c,2),wm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Y]&=-73,iA(e)}finally{vm()}}}function RM(t,e){for(let n=nx(t);null!==n;n=rx(n))for(let r=It;r<n.length;r++)NM(n[r],e)}function N3(t,e,n){NM(yn(e,t),n)}function NM(t,e){if(!function t4(t){return 128==(128&t[Y])}(t))return;const n=t[R];if(80&t[Y]&&0===e||1024&t[Y]||2===e)MM(n,t,n.template,t[ze]);else if(t[pu]>0){RM(t,1);const i=t[R].components;null!==i&&kM(t,i,1)}}function kM(t,e,n){for(let r=0;r<e.length;r++)N3(t,e[r],n)}class $u{get rootNodes(){const e=this._lView,n=e[R];return Bu(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(e){this._lView[ze]=e}get destroyed(){return 256==(256&this._lView[Y])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ne];if(sn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Bd(e,r),Md(n,r))}this._attachedToViewContainer=!1}Um(this._lView[R],this._lView)}onDestroy(e){!function oA(t,e){if(256==(256&t[Y]))throw new C(911,!1);null===t[gi]&&(t[gi]=[]),t[gi].push(e)}(this._lView,e)}markForCheck(){Uu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){this._lView[Y]|=128}detectChanges(){dh(this._lView[R],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rz(t,e){Mu(t,e,e[K],2,null,null)}(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e}}class k3 extends $u{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;dh(e[R],e,e[ze],!1)}checkNoChanges(){}get context(){return null}}class PM extends ih{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=se(e);return new Hu(n,this.ngModule)}}function OM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class O3{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=cd(r);const i=this.injector.get(e,py,r);return i!==py||n===py?i:this.parentInjector.get(e,n,r)}}class Hu extends qx{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=OM(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return OM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function SH(t){return t.map(CH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof xn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new O3(e,s):e,a=o.get(Kx,null);if(null===a)throw new C(407,!1);const d={rendererFactory:a,sanitizer:o.get(jG,null),effectManager:o.get(xM,null),afterRenderEventManager:o.get(yy,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function i3(t,e,n,r){const s=r.get(sM,!1)||n===Bn.ShadowDom,o=t.selectRootElement(e,s);return function s3(t){yM(t)}(o),o}(h,r,this.componentDef.encapsulation,o):jd(h,f,function P3(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=dy(p,o,!0));const b=by(0,null,null,1,0,null,null,null,null,null,null),N=uh(null,b,null,w,null,null,d,h,o,null,_);let F,X;_m(N);try{const De=this.componentDef;let Ut,Rr=null;De.findHostDirectiveDefs?(Ut=[],Rr=new Map,De.findHostDirectiveDefs(De,Ut,Rr),Ut.push(De)):Ut=[De];const KC=function L3(t,e){const n=t[R],r=ne;return t[r]=e,Oo(n,r,2,"#host",null)}(N,p),Bde=function V3(t,e,n,r,i,s,o){const a=i[R];!function U3(t,e,n,r){for(const i of t)e.mergedAttrs=fu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(lh(e,e.mergedAttrs,!0),null!==n&&_x(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=dy(e,i[pi]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=uh(i,mM(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Cy(a,t,r.length-1),ch(i,d),i[t.index]=d}(KC,p,De,Ut,N,d,h);X=nA(b,ne),p&&function B3(t,e,n,r){if(r)rm(t,n,["ng-version",Qx.full]);else{const{attrs:i,classes:s}=function AH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!$n(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&rm(t,n,i),s&&s.length>0&&yx(t,n,s.join(" "))}}(h,De,p,r),void 0!==n&&function $3(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(X,this.ngContentSelectors,n),F=function j3(t,e,n,r,i,s){const o=Et(),a=i[R],u=on(o,i);wM(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Nt(os(i,a,o.directiveStart+l,o),i);IM(a,i,o),u&&Nt(u,i);const c=os(i,a,o.directiveStart+o.componentOffset,o);if(t[ze]=i[ze]=c,null!==s)for(const l of s)l(c,e);return Iy(a,o,t),c}(Bde,De,Ut,Rr,N,[H3]),My(b,N,null)}finally{vm()}return new F3(this.componentType,F,No(X,N),N,X)}}class F3 extends PG{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new k3(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;xy(s[R],s,i,e,n),this.previousInputValues.set(e,n),Uu(yn(this._tNode.index,s))}}get injector(){return new zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function H3(){const t=Et();Ed(E()[R],t)}function fh(t){return!!function Ry(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function kt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}let t1=function n1(t,e,n,r){return yi(!0),e[K].createComment("")};function Vy(t,e,n){const r=E();return kt(r,go(),e)&&function vn(t,e,n,r,i,s,o,a){const u=on(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(xy(t,n,l,r,i),ns(e)&&function h3(t,e){const n=yn(e,t);16&n[Y]||(n[Y]|=64)}(n,e.index)):3&e.type&&(r=function d3(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(oe(),function Pe(){const t=H.lFrame;return nA(t.tView,t.selectedIndex)}(),r,t,e,r[K],n,!1),Vy}function Uy(t,e,n,r,i){const o=i?"class":"style";xy(t,n,e.inputs[o],o,r)}function Go(t,e,n,r){const i=E(),s=oe(),o=ne+t,a=i[K],u=s.firstCreatePass?function Dq(t,e,n,r,i,s){const o=e.consts,u=Oo(e,t,2,r,mi(o,i));return Ty(e,n,u,mi(o,s)),null!==u.attrs&&lh(u,u.attrs,!1),null!==u.mergedAttrs&&lh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=r1(s,i,u,a,e,t);i[o]=c;const l=md(u);return lr(u,!0),_x(a,c,u),32!=(32&u.flags)&&Id()&&Hd(s,i,c,u),0===function s4(){return H.lFrame.elementDepthCount}()&&Nt(c,i),function o4(){H.lFrame.elementDepthCount++}(),l&&(Ey(s,i,u),Iy(s,u,i)),null!==r&&Dy(i,u),Go}function qo(){let t=Et();fm()?function pm(){H.lFrame.isParent=!1}():(t=t.parent,lr(t,!1));const e=t;(function u4(t){return H.skipHydrationRootTNode===t})(e)&&function h4(){H.skipHydrationRootTNode=null}(),function a4(){H.lFrame.elementDepthCount--}();const n=oe();return n.firstCreatePass&&(Ed(n,t),om(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function x4(t){return 0!=(8&t.flags)}(e)&&Uy(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function M4(t){return 0!=(16&t.flags)}(e)&&Uy(n,e,E(),e.stylesWithoutHost,!1),qo}function jy(t,e,n,r){return Go(t,e,n,r),qo(),jy}let r1=(t,e,n,r,i,s)=>(yi(!0),jd(r,i,function vA(){return H.lFrame.currentNamespace}()));function _h(t){return!!t&&"function"==typeof t.then}function o1(t){return!!t&&"function"==typeof t.subscribe}function Ih(t,e=""){const n=E(),r=oe(),i=t+ne,s=r.firstCreatePass?Oo(r,i,1,e,null):r.data[i],o=O1(r,n,s,e,t);n[i]=o,Id()&&Hd(r,n,o,s),lr(s,!1)}let O1=(t,e,n,r,i)=>(yi(!0),function Ud(t,e){return t.createText(e)}(e[K],r));function Qy(t){return Yy("",t,""),Qy}function Yy(t,e,n){const r=E(),i=function Lo(t,e,n,r){return kt(t,go(),n)?e+W(n)+r:J}(r,t,e,n);return i!==J&&jr(r,Ht(),i),Yy}const Qo="en-US";let rR=Qo;class fs{}class xR{}class r_ extends fs{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new PM(this);const i=mn(e);this._bootstrapComponents=Ur(i.bootstrap),this._r3Injector=eM(e,n,[{provide:fs,useValue:this},{provide:ih,useValue:this.componentFactoryResolver},...r],rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class i_ extends xR{constructor(e){super(),this.moduleType=e}create(e){return new r_(this.moduleType,e,[])}}class MR extends fs{constructor(e){super(),this.componentFactoryResolver=new PM(this),this.instance=null;const n=new Jd([...e.providers,{provide:fs,useValue:this},{provide:ih,useValue:this.componentFactoryResolver}],e.parent||Yd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function s_(t,e,n=null){return new MR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let S9=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=Ox(0,r.type),s=i.length>0?s_([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(U(xn))}),e})();function RR(t){t.getStandaloneInjector=e=>e.get(S9).getOrCreateStandaloneInjector(t)}function a_(t){return e=>{setTimeout(t,void 0,e)}}const Kt=class Z9 extends Un{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=a_(s),i&&(i=a_(i)),o&&(o=a_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof en&&e.add(a),a}};function n7(t,e,n,r=!0){const i=e[R];if(function kz(t,e,n,r){const i=It+r,s=n.length;r>0&&(n[i-1][Hn]=e),r<s-It?(e[Hn]=n[i],OA(n,It+r,e)):(n.push(e),e[Hn]=null),e[Ne]=n;const o=e[mu];null!==o&&n!==o&&function Pz(t,e){const n=t[ho];e[Ge]!==e[Ne][Ne][Ge]&&(t[$S]=!0),null===n?t[ho]=[e]:n.push(e)}(o,e);const a=e[or];null!==a&&a.insertView(t),e[Y]|=128}(i,e,t,n),r){const s=Hm(n,t),o=e[K],a=$d(o,t[ar]);null!==a&&function Mz(t,e,n,r,i,s){r[He]=i,r[Rt]=e,Mu(t,r,n,1,i,s)}(i,t[Rt],o,e,a,s)}}let Br=(()=>{class e{}return e.__NG_ELEMENT_ID__=s7,e})();const r7=Br,i7=class extends r7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function t7(t,e,n,r){const i=e.tView,a=uh(t,i,n,4096&t[Y]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[mu]=t[e.index];const c=t[or];return null!==c&&(a[or]=c.createEmbeddedView(i)),My(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new $u(i)}};function s7(){return function Ch(t,e){return 4&t.type?new i7(e,t,No(t,e)):null}(Et(),E())}let Wn=(()=>{class e{}return e.__NG_ELEMENT_ID__=d7,e})();function d7(){return function QR(t,e){let n;const r=e[t.index];return sn(r)?n=r:(n=DM(r,e,null,t),e[t.index]=n,ch(e,n)),YR(n,e,t,r),new WR(n,t,e)}(Et(),E())}const h7=Wn,WR=class extends h7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return No(this._hostTNode,this._hostLView)}get injector(){return new zt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sd(this._hostTNode,this._hostLView);if(Em(e)){const n=Eu(e,this._hostLView),r=Iu(e);return new zt(n[R].data[r+8],n)}return new zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=KR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-It}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function bu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Hu(se(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(xn,null);y&&(s=y)}se(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function n4(t){return sn(t[Ne])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ne],l=new WR(c,c[Rt],c[Ne]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return n7(a,i,o,!r),e.attachToViewContainerRef(),OA(c_(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=KR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Bd(this._lContainer,n);r&&(Md(c_(this._lContainer),n),Um(r[R],r))}detach(e){const n=this._adjustIndex(e,-1),r=Bd(this._lContainer,n);return r&&null!=Md(c_(this._lContainer),n)?new $u(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function KR(t){return t[8]}function c_(t){return t[8]||(t[8]=[])}let YR=function JR(t,e,n,r){if(t[ar])return;let i;i=8&n.type?be(r):function f7(t,e){const n=t[K],r=n.createComment(""),i=on(e,t);return as(n,$d(n,i),r,function Vz(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[ar]=i};const w_=new V("Application Initializer");let I_=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=P(w_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(_h(o))r.push(o);else if(o1(o)){const a=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),EN=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const $r=new V("LocaleId",{providedIn:"root",factory:()=>P($r,te.Optional|te.SkipSelf)||function z7(){return typeof $localize<"u"&&$localize.locale||Qo}()});let DN=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Tn(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class W7{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let bN=(()=>{var t;class e{compileModuleSync(r){return new i_(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Ur(mn(r).declarations).reduce((a,u)=>{const c=se(u);return c&&a.push(new Hu(c)),a},[]);return new W7(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function AN(...t){}class we{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function f5(){const t="function"==typeof Ie.requestAnimationFrame;let e=Ie[t?"requestAnimationFrame":"setTimeout"],n=Ie[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function m5(t){const e=()=>{!function g5(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ie,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,T_(t),t.isCheckStableRunning=!0,b_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),T_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return xN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),MN(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return xN(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),MN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,T_(t),b_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!we.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(we.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,p5,AN,AN);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const p5={};function b_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function T_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function MN(t){t._nesting--,b_(t)}class y5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const RN=new V("",{providedIn:"root",factory:NN});function NN(){const t=P(we);let e=!0;return function J$(...t){const e=cu(t),n=function z$(t,e){return"number"==typeof jg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Cn(r[0]):io(n)(vt(r,e)):nr}(new Le(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Le(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{we.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(_S()))}const kN=new V(""),Mh=new V("");let A_,C_=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,A_||(function _5(t){A_=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(U(we),U(S_),U(Mh))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})(),S_=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return A_?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Di=null;const PN=new V("AllowMultipleToken"),x_=new V("PlatformDestroyListeners"),M_=new V("appBootstrapListener");class FN{constructor(e,n){this.name=e,this.token=n}}function VN(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=R_();if(!o||o.injector.get(PN,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function I5(t){if(Di&&!Di.get(PN,!1))throw new C(400,!1);(function ON(){!function zH(t){KS=t}(()=>{throw new C(600,!1)})})(),Di=t;const e=t.get(jN);(function LN(t){t.get(jx,null)?.forEach(n=>n())})(t)}(function UN(t=[],e){return qt.create({name:e,providers:[{provide:ty,useValue:"platform"},{provide:x_,useValue:new Set([()=>Di=null])},...t]})}(a,r))}return function D5(t){const e=R_();if(!e)throw new C(401,!1);return e}()}}function R_(){return Di?.get(jN)??null}let jN=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function b5(t="zone.js",e){return"noop"===t?new y5:"zone.js"===t?new we(e):t}(i?.ngZone,function BN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function C9(t,e,n){return new r_(t,e,n)}(r.moduleType,this.injector,function qN(t){return[{provide:we,useFactory:t},{provide:Pu,multi:!0,useFactory:()=>{const e=P(C5,{optional:!0});return()=>e.initialize()}},{provide:GN,useFactory:T5},{provide:RN,useFactory:NN}]}(()=>s)),a=o.injector.get(cs,null);return s.runOutsideAngular(()=>{const u=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{Rh(this._modules,o),u.unsubscribe()})}),function $N(t,e,n){try{const r=n();return _h(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const u=o.injector.get(I_);return u.runInitializers(),u.donePromise.then(()=>(function iR(t){Sn(t,"Expected localeId to be defined"),"string"==typeof t&&(rR=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get($r,Qo)||Qo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=HN({},i);return function v5(t,e,n){const r=new i_(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(Xo);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new C(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(x_,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(U(qt))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function HN(t,e){return Array.isArray(e)?e.reduce(HN,t):{...t,...e}}let Xo=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(GN),this.zoneIsStable=P(RN),this.componentTypes=[],this.components=[],this.isStable=P(DN).hasPendingTasks.pipe(rr(r=>r?G(!1):this.zoneIsStable),function X$(t,e=di){return t=t??Z$,tt((n,r)=>{let i,s=!0;n.subscribe(nt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),_S()),this._injector=P(xn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof qx;if(!this._injector.get(I_).done)throw!s&&function oo(t){const e=se(t)||wt(t)||Bt(t);return null!==e&&e.standalone}(r),new C(405,!1);let a;a=s?r:this._injector.get(ih).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const u=function w5(t){return t.isBoundToModule}(a)?void 0:this._injector.get(fs),l=a.create(qt.NULL,[],i||a.selector,u),d=l.location.nativeElement,h=l.injector.get(kN,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Rh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Rh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(M_,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Rh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Rh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const GN=new V("",{providedIn:"root",factory:()=>P(cs).handleError.bind(void 0)});function T5(){const t=P(we),e=P(cs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let C5=(()=>{var t;class e{constructor(){this.zone=P(we),this.applicationRef=P(Xo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let N_=(()=>{class e{}return e.__NG_ELEMENT_ID__=A5,e})();function A5(t){return function x5(t,e,n){if(ns(t)&&!n){const r=yn(t.index,e);return new $u(r,r)}return 47&t.type?new $u(e[Ge],e):null}(Et(),E(),16==(16&t))}class YN{constructor(){}supports(e){return fh(e)}create(e){return new O5(e)}}const P5=(t,e)=>e;class O5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||P5}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<XN(r,i,s)?n:r,a=XN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!fh(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function eq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new F5(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new JN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class F5{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class L5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class JN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new L5,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function ek(){return new Ph([new YN])}let Ph=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||ek()),deps:[[e,new Nd,new Gt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new C(901,!1)}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:ek}),e})();const $5=VN(null,"core",[]);let H5=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Xo))},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({}),e})(),U_=null;function Zo(){return U_}class rW{}const Rn=new V("DocumentToken");let j_=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(sW)},providedIn:"platform"}),e})();const iW=new V("Location Initialized");let sW=(()=>{var t;class e extends j_{constructor(){super(),this._doc=P(Rn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zo().getBaseHref(this._doc)}onPopState(r){const i=Zo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Zo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function B_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ck(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hr(t){return t&&"?"!==t[0]?"?"+t:t}let gs=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(dk)},providedIn:"root"}),e})();const lk=new V("appBaseHref");let dk=(()=>{var t;class e extends gs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(Rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return B_(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Hr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Hr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Hr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(j_),U(lk,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),oW=(()=>{var t;class e extends gs{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=B_(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Hr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Hr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(j_),U(lk,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})(),$_=(()=>{var t;class e{constructor(r){this._subject=new Kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function cW(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(ck(hk(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Hr(i))}normalize(r){return e.stripTrailingSlash(function uW(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,hk(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Hr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Hr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Hr,t.joinWithSlash=B_,t.stripTrailingSlash=ck,t.\u0275fac=function(r){return new(r||t)(U(gs))},t.\u0275prov=j({token:t,factory:function(){return function aW(){return new $_(U(gs))}()},providedIn:"root"}),e})();function hk(t){return t.replace(/\/index.html$/,"")}class YW{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dk=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new YW(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),bk(u,s)}});for(let s=0,o=i.length;s<o;s++){const u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{bk(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Wn),B(Br),B(Ph))},t.\u0275dir=jt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function bk(t,e){t.context.$implicit=e.item}let D8=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({}),e})();function xk(t){return"server"===t}let S8=(()=>{var t;class e{}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new A8(U(Rn),window)}),e})();class A8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function x8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Z8 extends rW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sv extends Z8{static makeCurrent(){!function nW(t){U_||(U_=t)}(new sv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function eK(){return uc=uc||document.querySelector("base"),uc?uc.getAttribute("href"):null}();return null==n?null:function tK(t){Kh=Kh||document.createElement("a"),Kh.setAttribute("href",t);const e=Kh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){uc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function WW(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Kh,uc=null,rK=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const ov=new V("EventManagerPlugins");let Pk=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(U(ov),U(we))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();class Ok{constructor(e){this._doc=e}}const av="ng-app-id";let Fk=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xk(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${av}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(av),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(av,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Rn),U(Xd),U(Bx,8),U(wi))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const uv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cv=/%COMP%/g,aK=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Vk(t,e){return e.map(n=>n.replace(cv,t))}let Uk=(()=>{var t;class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=xk(u),this.defaultRenderer=new lv(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bn.ShadowDom&&(i={...i,encapsulation:Bn.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof Bk?s.applyToHost(r):s instanceof dv&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Bn.Emulated:o=new Bk(c,l,i,this.appId,d,a,u,h);break;case Bn.ShadowDom:return new dK(c,l,r,i,a,u,this.nonce,h);default:o=new dv(c,l,i,d,a,u,h)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Pk),U(Fk),U(Xd),U(aK),U(Rn),U(wi),U(we),U(Bx))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();class lv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(uv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(jk(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(jk(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=uv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=uv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_i.DashCase|_i.Important)?e.style.setProperty(n,r,i&_i.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_i.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Zo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function jk(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class dK extends lv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Vk(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dv extends lv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Vk(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Bk extends dv{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function uK(t){return"_ngcontent-%COMP%".replace(cv,t)}(c),this.hostAttr=function cK(t){return"_nghost-%COMP%".replace(cv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let hK=(()=>{var t;class e extends Ok{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Rn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const $k=["alt","control","meta","shift"],fK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let gK=(()=>{var t;class e extends Ok{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zo().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),$k.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=fK[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),$k.forEach(a=>{a!==s&&(0,pK[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Rn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const zk=[{provide:wi,useValue:"browser"},{provide:jx,useValue:function mK(){sv.makeCurrent()},multi:!0},{provide:Rn,useFactory:function _K(){return function qz(t){qm=t}(document),document},deps:[]}],vK=VN($5,"browser",zk),wK=new V(""),Gk=[{provide:Mh,useClass:class nK{addToWindow(e){Ie.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new C(5103,!1);return s},Ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ie.getAllAngularRootElements=()=>e.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(r=>{const i=Ie.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Zo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:kN,useClass:C_,deps:[we,S_,Mh]},{provide:C_,useClass:C_,deps:[we,S_,Mh]}],qk=[{provide:ty,useValue:"root"},{provide:cs,useFactory:function yK(){return new cs},deps:[]},{provide:ov,useClass:hK,multi:!0,deps:[Rn,we,wi]},{provide:ov,useClass:gK,multi:!0,deps:[Rn]},Uk,Fk,Pk,{provide:Kx,useExisting:Uk},{provide:class M8{},useClass:rK,deps:[]},[]];let IK=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Xd,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(U(wK,12))},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({providers:[...qk,...Gk],imports:[D8,H5]}),e})(),Wk=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Rn))},t.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new r:function DK(){return new Wk(U(Rn))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:xK}=Array,{getPrototypeOf:MK,prototype:RK,keys:NK}=Object;const{isArray:OK}=Array;function fv(...t){const e=cu(t),n=function H$(t){return _e(jg(t))?t.pop():void 0}(t),{args:r,keys:i}=function kK(t){if(1===t.length){const e=t[0];if(xK(e))return{args:e,keys:null};if(function PK(t){return t&&"object"==typeof t&&MK(t)===RK}(e)){const n=NK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return vt([],e);const s=new Le(function UK(t,e,n=di){return r=>{Jk(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Jk(e,()=>{const c=vt(t[u],e);let l=!1;c.subscribe(nt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function VK(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):di));return n?s.pipe(function LK(t){return ve(e=>function FK(t,e){return OK(e)?t(...e):t(e)}(t,e))}(n)):s}function Jk(t,e,n){t?Nr(n,t,e):e()}const Qh=au(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function pv(...t){return function jK(){return io(1)}()(vt(t,cu(t)))}function Xk(t){return new Le(e=>{Cn(t()).subscribe(e)})}function cc(t,e){const n=_e(t)?t:()=>t,r=i=>i.error(n());return new Le(e?i=>e.schedule(r,0,i):r)}function gv(){return tt((t,e)=>{let n=null;t._refCount++;const r=nt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Zk extends Le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new en;const n=this.getSubject();e.add(this.source.subscribe(nt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=en.EMPTY)}return e}refCount(){return gv()(this)}}function ta(t){return t<=0?()=>nr:tt((e,n)=>{let r=0;e.subscribe(nt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ti(t,e){return tt((n,r)=>{let i=0;n.subscribe(nt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Yh(t){return tt((e,n)=>{let r=!1;e.subscribe(nt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function eP(t=$K){return tt((e,n)=>{let r=!1;e.subscribe(nt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $K(){return new Qh}function ms(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ti((i,s)=>t(i,s,r)):di,ta(1),n?Yh(e):eP(()=>new Qh))}function lc(t,e){return _e(e)?_t(t,e,1):_t(t,1)}function Dt(t,e,n){const r=_e(t)||e||n?{next:t,error:e,complete:n}:t;return r?tt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(nt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):di}function ys(t){return tt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(nt(n,void 0,void 0,o=>{s=Cn(t(o,ys(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function mv(t){return t<=0?()=>nr:tt((e,n)=>{let r=[];e.subscribe(nt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yv(t){return tt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Z="primary",dc=Symbol("RouteTitle");class KK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function na(t){return new KK(t)}function QK(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!tP(t[i],e[i]))return!1;return!0}function tP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function nP(t){return t.length>0?t[t.length-1]:null}function Ci(t){return function AK(t){return!!t&&(t instanceof Le||_e(t.lift)&&_e(t.subscribe))}(t)?t:_h(t)?vt(Promise.resolve(t)):G(t)}const JK={exact:function sP(t,e,n){if(!_s(t.segments,e.segments)||!Jh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!sP(t.children[r],e.children[r],n))return!1;return!0},subset:oP},rP={exact:function XK(t,e){return mr(t,e)},subset:function ZK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tP(t[n],e[n]))},ignored:()=>!0};function iP(t,e,n){return JK[n.paths](t.root,e.root,n.matrixParams)&&rP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function oP(t,e,n){return aP(t,e,e.segments,n)}function aP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!_s(i,n)||e.hasChildren()||!Jh(i,n,r))}if(t.segments.length===n.length){if(!_s(t.segments,n)||!Jh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!oP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(_s(t.segments,i)&&Jh(t.segments,i,r)&&t.children[Z])&&aP(t.children[Z],e,s,r)}}function Jh(t,e,n){return e.every((r,i)=>rP[n](t[i].parameters,r.parameters))}class ra{constructor(e=new ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return nQ.serialize(this)}}class ge{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xh(this)}}class hc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=na(this.parameters)),this._parameterMap}toString(){return lP(this)}}function _s(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let fc=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return new _v},providedIn:"root"}),e})();class _v{parse(e){const n=new fQ(e);return new ra(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${pc(e.root,!0)}`,r=function sQ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Zh(n)}=${Zh(i)}`).join("&"):`${Zh(n)}=${Zh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function rQ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const nQ=new _v;function Xh(t){return t.segments.map(e=>lP(e)).join("/")}function pc(t,e){if(!t.hasChildren())return Xh(t);if(e){const n=t.children[Z]?pc(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Z&&r.push(`${i}:${pc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function tQ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Z?[pc(t.children[Z],!1)]:[`${i}:${pc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Z]?`${Xh(t)}/${n[0]}`:`${Xh(t)}/(${n.join("//")})`}}function uP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zh(t){return uP(t).replace(/%3B/gi,";")}function vv(t){return uP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ef(t){return decodeURIComponent(t)}function cP(t){return ef(t.replace(/\+/g,"%20"))}function lP(t){return`${vv(t.path)}${function iQ(t){return Object.keys(t).map(e=>`;${vv(e)}=${vv(t[e])}`).join("")}(t.parameters)}`}const oQ=/^[^\/()?;#]+/;function wv(t){const e=t.match(oQ);return e?e[0]:""}const aQ=/^[^\/()?;=#]+/,cQ=/^[^=?&#]+/,dQ=/^[^&#]+/;class fQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new ge(e,n)),r}parseSegment(){const e=wv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new hc(ef(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function uQ(t){const e=t.match(aQ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=wv(this.remaining);i&&(r=i,this.capture(r))}e[ef(n)]=ef(r)}parseQueryParam(e){const n=function lQ(t){const e=t.match(cQ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function hQ(t){const e=t.match(dQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=cP(n),s=cP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=wv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Z);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Z]:new ge([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}}function dP(t){return t.segments.length>0?new ge([],{[Z]:t}):t}function hP(t){const e={};for(const r of Object.keys(t.children)){const s=hP(t.children[r]);if(r===Z&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function pQ(t){if(1===t.numberOfChildren&&t.children[Z]){const e=t.children[Z];return new ge(t.segments.concat(e.segments),e.children)}return t}(new ge(t.segments,e))}function vs(t){return t instanceof ra}function fP(t){let e;const i=dP(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new ge(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function pP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Iv(i,i,i,n,r);const s=function mQ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new mP(n,e,r)}(e);if(s.toRoot())return Iv(i,i,new ge([],{}),n,r);const o=function yQ(t,e,n){if(t.isAbsolute)return new nf(e,!0,0);if(!n)return new nf(e,!1,NaN);if(null===n.parent)return new nf(n,!0,0);const r=tf(t.commands[0])?0:1;return function _Q(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new nf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?mc(o.segmentGroup,o.index,s.commands):yP(o.segmentGroup,o.index,s.commands);return Iv(i,o.segmentGroup,a,n,r)}function tf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gc(t){return"object"==typeof t&&null!=t&&t.outlets}function Iv(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:gP(t,e,n);const a=dP(hP(o));return new ra(a,s,i)}function gP(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:gP(s,e,n)}),new ge(t.segments,r)}class mP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&tf(r[0]))throw new C(4003,!1);const i=r.find(gc);if(i&&i!==nP(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function yP(t,e,n){if(t||(t=new ge([],{})),0===t.segments.length&&t.hasChildren())return mc(t,e,n);const r=function wQ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(gc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!vP(u,c,o))return s;r+=2}else{if(!vP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ge(t.segments.slice(0,r.pathIndex),{});return s.children[Z]=new ge(t.segments.slice(r.pathIndex),t.children),mc(s,0,i)}return r.match&&0===i.length?new ge(t.segments,{}):r.match&&!t.hasChildren()?Ev(t,e,n):r.match?mc(t,0,i):Ev(t,e,n)}function mc(t,e,n){if(0===n.length)return new ge(t.segments,{});{const r=function vQ(t){return gc(t[0])?t[0].outlets:{[Z]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Z)&&t.children[Z]&&1===t.numberOfChildren&&0===t.children[Z].segments.length){const s=mc(t.children[Z],e,n);return new ge(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=yP(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new ge(t.segments,i)}}function Ev(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(gc(s)){const u=IQ(s.outlets);return new ge(r,u)}if(0===i&&tf(n[0])){r.push(new hc(t.segments[e].path,_P(n[0]))),i++;continue}const o=gc(s)?s.outlets[Z]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&tf(a)?(r.push(new hc(o,_P(a))),i+=2):(r.push(new hc(o,{})),i++)}return new ge(r,{})}function IQ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Ev(new ge([],{}),0,r))}),e}function _P(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vP(t,e,n){return t==n.path&&mr(e,n.parameters)}const yc="imperative";class yr{constructor(e,n){this.id=e,this.url=n}}class rf extends yr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Si extends yr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _c extends yr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ia extends yr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class sf extends yr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wP extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EQ extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DQ extends yr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bQ extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TQ extends yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CQ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class SQ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class AQ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xQ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MQ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RQ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IP{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Dv{}class bv{constructor(e){this.url=e}}class NQ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vc,this.attachRef=null}}let vc=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new NQ,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class EP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Tv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Tv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Cv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cv(e,this._root).map(n=>n.value)}}function Tv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Tv(t,n);if(r)return r}return null}function Cv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Cv(t,n);if(r.length)return r.unshift(e),r}return[]}class qr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function sa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class DP extends EP{constructor(e,n){super(e),this.snapshot=n,Sv(this,e)}toString(){return this.snapshot.toString()}}function bP(t,e){const n=function kQ(t,e){const o=new af([],{},{},"",{},Z,e,null,{});return new CP("",new qr(o,[]))}(0,e),r=new Tn([new hc("",{})]),i=new Tn({}),s=new Tn({}),o=new Tn({}),a=new Tn(""),u=new oa(r,i,o,a,s,Z,e,n.root);return u.snapshot=n.root,new DP(new qr(u,[]),n)}class oa{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ve(c=>c[dc]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(e=>na(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(e=>na(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TP(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function PQ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class af{get title(){return this.data?.[dc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=na(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CP extends EP{constructor(e,n){super(n),this.url=e,Sv(this,n)}toString(){return SP(this._root)}}function Sv(t,e){e.value._routerState=t,e.children.forEach(n=>Sv(t,n))}function SP(t){const e=t.children.length>0?` { ${t.children.map(SP).join(", ")} } `:"";return`${t.value}${e}`}function Av(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),mr(e.params,n.params)||t.paramsSubject.next(n.params),function YK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),mr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xv(t,e){const n=mr(t.params,e.params)&&function eQ(t,e){return _s(t,e)&&t.every((n,r)=>mr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||xv(t.parent,e.parent))}let AP=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.parentContexts=P(vc),this.location=P(Wn),this.changeDetector=P(N_),this.environmentInjector=P(xn),this.inputBinder=P(uf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new OQ(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=jt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[is]}),e})();class OQ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===oa?this.route:e===vc?this.childContexts:this.parent.get(e,n)}}const uf=new V("");let xP=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=fv([i.queryParams,i.params,i.data]).pipe(rr(([o,a,u],c)=>(u={...o,...a,...u},0===c?G(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function tW(t){const e=se(t);if(!e)return null;const n=new Hu(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function wc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function LQ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wc(t,r,i);return wc(t,r)})}(t,e,n);return new qr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>wc(t,a)),o}}const r=function VQ(t){return new oa(new Tn(t.url),new Tn(t.params),new Tn(t.queryParams),new Tn(t.fragment),new Tn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>wc(t,s));return new qr(r,i)}}const Mv="ngNavigationCancelingError";function MP(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RP(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function RP(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Mv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function NP(t){return t&&t[Mv]}let kP=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=im({type:t,selectors:[["ng-component"]],standalone:!0,features:[RR],decls:1,vars:0,template:function(r,i){1&r&&jy(0,"router-outlet")},dependencies:[AP],encapsulation:2}),e})();function Rv(t){const e=t.children&&t.children.map(Rv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=kP),n}function Yn(t){return t.outlet||Z}function Ic(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class qQ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Av(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=sa(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=sa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=sa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=sa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new RQ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new xQ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Av(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Av(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ic(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class PP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cf{constructor(e,n){this.component=e,this.route=n}}function WQ(t,e,n){const r=t._root;return Ec(r,e?e._root:null,n,[r.value])}function aa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function oH(t){return null!==sd(t)}(t)?e.get(t):t:r}function Ec(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=sa(e);return t.children.forEach(o=>{(function QQ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function YQ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_s(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_s(t.url,e.url)||!mr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xv(t,e)||!mr(t.queryParams,e.queryParams);default:return!xv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new PP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ec(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cf(a.outlet.component,o))}else o&&Dc(e,a,i),i.canActivateChecks.push(new PP(r)),Ec(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Dc(a,n.getContext(o),i)),i}function Dc(t,e,n){const r=sa(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Dc(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new cf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function bc(t){return"function"==typeof t}function OP(t){return t instanceof Qh||"EmptyError"===t?.name}const lf=Symbol("INITIAL_VALUE");function ua(){return rr(t=>fv(t.map(e=>e.pipe(ta(1),function BK(...t){const e=cu(t);return tt((n,r)=>{(e?pv(t,n,e):pv(t,n)).subscribe(r)})}(lf)))).pipe(ve(e=>{for(const n of e)if(!0!==n){if(n===lf)return lf;if(!1===n||n instanceof ra)return n}return!0}),Ti(e=>e!==lf),ta(1)))}function FP(t){return function a$(...t){return ZC(t)}(Dt(e=>{if(vs(e))throw MP(0,e)}),ve(e=>!0===e))}class df{constructor(e){this.segmentGroup=e||null}}class LP{constructor(e){this.urlTree=e}}function ca(t){return cc(new df(t))}function VP(t){return cc(new LP(t))}class mY{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new C(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[Z])return cc(new C(4e3,!1));i=i.children[Z]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ra(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ge(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yY(t,e,n,r,i){const s=kv(t,e,n);return s.matched?(r=function jQ(t,e){return t.providers&&!t._injector&&(t._injector=s_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function fY(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=aa(o,t);return Ci(function nY(t){return t&&bc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ua(),FP()):G(!0)}(r,e,n).pipe(ve(o=>!0===o?s:{...Nv}))):G(s)}function kv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Nv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||QK)(n,t,e);if(!i)return{...Nv};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function UP(t,e,n,r){return n.length>0&&function wY(t,e,n){return n.some(r=>hf(t,e,r)&&Yn(r)!==Z)}(t,n,r)?{segmentGroup:new ge(e,vY(r,new ge(n,t.children))),slicedSegments:[]}:0===n.length&&function IY(t,e,n){return n.some(r=>hf(t,e,r))}(t,n,r)?{segmentGroup:new ge(t.segments,_Y(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ge(t.segments,t.children),slicedSegments:n}}function _Y(t,e,n,r,i){const s={};for(const o of r)if(hf(t,n,o)&&!i[Yn(o)]){const a=new ge([],{});s[Yn(o)]=a}return{...i,...s}}function vY(t,e){const n={};n[Z]=e;for(const r of t)if(""===r.path&&Yn(r)!==Z){const i=new ge([],{});n[Yn(r)]=i}return n}function hf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class TY{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new mY(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,!1)}recognize(){const e=UP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Z).pipe(ys(n=>{if(n instanceof LP)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof df?this.noMatchError(n):n}),ve(n=>{const r=new af([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Z,this.rootComponentType,null,{}),i=new qr(r,n),s=new CP("",i),o=function gQ(t,e,n=null,r=null){return pP(fP(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Z).pipe(ys(r=>{throw r instanceof df?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=TP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return vt(i).pipe(lc(s=>{const o=r.children[s],a=function zQ(t,e){const n=t.filter(r=>Yn(r)===e);return n.push(...t.filter(r=>Yn(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function zK(t,e){return tt(function HK(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(nt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Yh(null),function GK(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ti((i,s)=>t(i,s,r)):di,mv(1),n?Yh(e):eP(()=>new Qh))}(),_t(s=>{if(null===s)return ca(r);const o=jP(s);return function CY(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}(o),G(o)}))}processSegment(e,n,r,i,s,o){return vt(n).pipe(lc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ys(u=>{if(u instanceof df)return G(null);throw u}))),ms(a=>!!a),ys(a=>{if(OP(a))return function DY(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?G([]):ca(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function EY(t,e,n,r){return!!(Yn(t)===r||r!==Z&&hf(e,n,t))&&("**"===t.path||kv(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ca(i):ca(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?VP(s):this.applyRedirects.lineralizeSegments(r,s).pipe(_t(o=>{const a=new ge(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=kv(n,i,s);if(!a)return ca(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?VP(d):this.applyRedirects.lineralizeSegments(i,d).pipe(_t(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?nP(i).parameters:{};a=G({snapshot:new af(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BP(r),Yn(r),r.component??r._loadedComponent??null,r,$P(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=yY(n,r,i,e).pipe(ve(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new af(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BP(r),Yn(r),r.component??r._loadedComponent??null,r,$P(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(rr(u=>null===u?ca(n):this.getChildConfig(e=r._injector??e,r,i).pipe(rr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=UP(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(ve(w=>null===w?null:[new qr(d,w)]));if(0===c.length&&0===m.length)return G([new qr(d,[])]);const y=Yn(r)===s;return this.processSegment(l,c,p,m,y?Z:s,!0).pipe(ve(w=>[new qr(d,w)]))}))))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function hY(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=aa(o,t);return Ci(function XQ(t){return t&&bc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ua(),FP())}(e,n,r).pipe(_t(i=>i?this.configLoader.loadChildren(e,n).pipe(Dt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function gY(t){return cc(RP(!1,3))}())):G({routes:[],injector:e})}}function SY(t){const e=t.value.routeConfig;return e&&""===e.path}function jP(t){const e=[],n=new Set;for(const r of t){if(!SY(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=jP(r.children);e.push(new qr(r.value,i))}return e.filter(r=>!n.has(r))}function BP(t){return t.data||{}}function $P(t){return t.resolve||{}}function HP(t){return"string"==typeof t.title||null===t.title}function Pv(t){return rr(e=>{const n=t(e);return n?vt(n).pipe(ve(()=>e)):G(e)})}const la=new V("ROUTES");let Ov=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(bN)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Ci(r.loadComponent()).pipe(ve(zP),Dt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),yv(()=>{this.componentLoaders.delete(r)})),s=new Zk(i,()=>new Un).pipe(gv());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(ve(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l;return Array.isArray(u)?l=u:(c=u.create(r).injector,l=c.get(la,[],te.Self|te.Optional).flat()),{routes:l.map(Rv),injector:c}}),yv(()=>{this.childrenLoaders.delete(i)})),a=new Zk(o,()=>new Un).pipe(gv());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return Ci(r()).pipe(ve(zP),_t(i=>i instanceof xR||Array.isArray(i)?G(i):vt(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function zP(t){return function PY(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let ff=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Un,this.transitionAbortSubject=new Un,this.configLoader=P(Ov),this.environmentInjector=P(xn),this.urlSerializer=P(fc),this.rootContexts=P(vc),this.inputBindingEnabled=null!==P(uf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new SQ(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new CQ(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new Tn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ti(o=>0!==o.id),ve(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),rr(o=>{this.currentTransition=o;let a=!1,u=!1;return G(o).pipe(Dt(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),rr(c=>{const l=c.currentBrowserUrl.toString(),d=!r.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new ia(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),nr}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return G(c).pipe(rr(f=>{const p=this.transitions?.getValue();return this.events.next(new rf(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?nr:Promise.resolve(f)}),function AY(t,e,n,r,i,s){return _t(o=>function bY(t,e,n,r,i,s,o="emptyOnly"){return new TY(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(ve(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Dt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const p=new wP(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:p,source:m,restoredState:y,extras:w}=c,_=new rf(f,this.urlSerializer.serialize(p),m,y);this.events.next(_);const b=bP(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:b,urlAfterRedirects:p,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},G(o)}{const f="";return this.events.next(new ia(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),nr}}),Dt(c=>{const l=new EQ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ve(c=>(this.currentTransition=o={...c,guards:WQ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function iY(t,e){return _t(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?G({...n,guardsResult:!0}):function sY(t,e,n,r){return vt(t).pipe(_t(i=>function dY(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=Ic(e)??i,c=aa(a,u);return Ci(function tY(t){return t&&bc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ms())})).pipe(ua()):G(!0)}(i.component,i.route,n,e,r)),ms(i=>!0!==i,!0))}(o,r,i,t).pipe(_t(a=>a&&function JQ(t){return"boolean"==typeof t}(a)?function oY(t,e,n,r){return vt(e).pipe(lc(i=>pv(function uY(t,e){return null!==t&&e&&e(new AQ(t)),G(!0)}(i.route.parent,r),function aY(t,e){return null!==t&&e&&e(new MQ(t)),G(!0)}(i.route,r),function lY(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function KQ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Xk(()=>G(o.guards.map(u=>{const c=Ic(o.node)??n,l=aa(u,c);return Ci(function eY(t){return t&&bc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ms())})).pipe(ua())));return G(s).pipe(ua())}(t,i.path,n),function cY(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>Xk(()=>{const o=Ic(e)??n,a=aa(s,o);return Ci(function ZQ(t){return t&&bc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ms())}));return G(i).pipe(ua())}(t,i.route,n))),ms(i=>!0!==i,!0))}(r,s,t,e):G(a)),ve(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Dt(c=>{if(o.guardsResult=c.guardsResult,vs(c.guardsResult))throw MP(0,c.guardsResult);const l=new DQ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ti(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),Pv(c=>{if(c.guards.canActivateChecks.length)return G(c).pipe(Dt(l=>{const d=new bQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),rr(l=>{let d=!1;return G(l).pipe(function xY(t,e){return _t(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=0;return vt(i).pipe(lc(o=>function MY(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!HP(i)&&(s[dc]=i.title),function RY(t,e,n,r){const i=function NY(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return G({});const s={};return vt(i).pipe(_t(o=>function kY(t,e,n,r){const i=Ic(e)??r,s=aa(t,i);return Ci(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ms(),Dt(a=>{s[o]=a}))),mv(1),function qK(t){return ve(()=>t)}(s),ys(o=>OP(o)?nr:cc(o)))}(s,t,e,r).pipe(ve(o=>(t._resolvedData=o,t.data=TP(t,n).resolve,i&&HP(i)&&(t.data[dc]=i.title),null)))}(o.route,r,t,e)),Dt(()=>s++),mv(1),_t(o=>s===i.length?G(n):nr))})}(r.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Dt(l=>{const d=new TQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Pv(c=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Dt(f=>{d.component=f}),ve(()=>{})));for(const f of d.children)h.push(...l(f));return h};return fv(l(c.targetSnapshot.root)).pipe(Yh(),ta(1))}),Pv(()=>this.afterPreactivation()),ve(c=>{const l=function FQ(t,e,n){const r=wc(t,e._root,n?n._root:void 0);return new DP(r,e)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),Dt(()=>{this.events.next(new Dv)}),((t,e,n,r)=>ve(i=>(new qQ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ta(1),Dt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Si(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function WK(t){return tt((e,n)=>{Cn(t).subscribe(nt(n,()=>n.complete(),Mg)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Dt(c=>{throw c}))),yv(()=>{a||u||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ys(c=>{if(u=!0,NP(c))this.events.next(new _c(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function UQ(t){return NP(t)&&vs(t.url)}(c)?this.events.next(new bv(c.url)):o.resolve(!1);else{this.events.next(new sf(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(l){o.reject(l)}}return nr}))}))}cancelNavigationTransition(r,i,s){const o=new _c(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function GP(t){return t!==yc}let qP=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Z);return i}getResolvedTitleForRoute(r){return r.data[dc]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(OY)},providedIn:"root"}),e})(),OY=(()=>{var t;class e extends qP{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Wk))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),FY=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(VY)},providedIn:"root"}),e})();class LY{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let VY=(()=>{var t;class e extends LY{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function NA(t){return kr(()=>{const e=t.prototype.constructor,n=e[Pr]||Cm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Pr]||Cm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const pf=new V("",{providedIn:"root",factory:()=>({})});let UY=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(jY)},providedIn:"root"}),e})(),jY=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Tc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Tc||{});function WP(t,e){t.events.pipe(Ti(n=>n instanceof Si||n instanceof _c||n instanceof sf||n instanceof ia),ve(n=>n instanceof Si||n instanceof ia?Tc.COMPLETE:n instanceof _c&&(0===n.code||1===n.code)?Tc.REDIRECTING:Tc.FAILED),Ti(n=>n!==Tc.REDIRECTING),ta(1)).subscribe(()=>{e()})}function BY(t){throw t}function $Y(t,e,n){return e.parse("/")}const HY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=P(EN),this.isNgZoneEnabled=!1,this._events=new Un,this.options=P(pf,{optional:!0})||{},this.pendingTasks=P(DN),this.errorHandler=this.options.errorHandler||BY,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$Y,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=P(UY),this.routeReuseStrategy=P(FY),this.titleStrategy=P(qP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=P(la,{optional:!0})?.flat()??[],this.navigationTransitions=P(ff),this.urlSerializer=P(fc),this.location=P($_),this.componentInputBindingEnabled=!!P(uf,{optional:!0}),this.eventsSubscription=new en,this.isNgZoneEnabled=P(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ra,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bP(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(KP(i)&&this._events.next(i));if(i instanceof rf)GP(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof ia)this.rawUrlTree=s.rawUrl;else if(i instanceof wP){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof Dv)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof _c)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof bv){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||GP(s.source)};this.scheduleNavigation(o,yc,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof sf&&this.restoreHistory(s,!0),i instanceof Si&&(this.navigated=!0),KP(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yc,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Rv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a;let h,d=null;switch(u){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=fP(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return pP(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=vs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,yc,null,i)}navigate(r,i={skipLocationChange:!1}){return function GY(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new C(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...HY}:!1===i?{...zY}:i,vs(r))return iP(this.currentUrlTree,r,s);const o=this.parseUrl(r);return iP(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});const d=this.pendingTasks.add();return WP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function KP(t){return!(t instanceof Dv||t instanceof bv)}class QP{}let KY=(()=>{var t;class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ti(r=>r instanceof Si),lc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=s_(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return vt(s).pipe(io())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):G(null);const o=s.pipe(_t(a=>null===a?G(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?vt([o,this.loader.loadComponent(i)]).pipe(io()):o})}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Pn),U(bN),U(xn),U(QP),U(Ov))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Lv=new V("");let YP=(()=>{var t;class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof rf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Si?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof ia&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof IP&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new IP(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function pM(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function Wr(t,e){return{\u0275kind:t,\u0275providers:e}}function XP(){const t=P(qt);return e=>{const n=t.get(Xo);if(e!==n.components[0])return;const r=t.get(Pn),i=t.get(ZP);1===t.get(Vv)&&r.initialNavigation(),t.get(eO,null,te.Optional)?.setUpPreloading(),t.get(Lv,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ZP=new V("",{factory:()=>new Un}),Vv=new V("",{providedIn:"root",factory:()=>1}),eO=new V("");function XY(t){return Wr(0,[{provide:eO,useExisting:KY},{provide:QP,useExisting:t}])}const tO=new V("ROUTER_FORROOT_GUARD"),eJ=[$_,{provide:fc,useClass:_v},Pn,vc,{provide:oa,useFactory:function JP(t){return t.routerState.root},deps:[Pn]},Ov,[]];function tJ(){return new FN("Router",Pn)}let nO=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[eJ,[],{provide:la,multi:!0,useValue:r},{provide:tO,useFactory:sJ,deps:[[Pn,new Gt,new Nd]]},{provide:pf,useValue:i||{}},i?.useHash?{provide:gs,useClass:oW}:{provide:gs,useClass:dk},{provide:Lv,useFactory:()=>{const t=P(S8),e=P(we),n=P(pf),r=P(ff),i=P(fc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new YP(i,r,t,e,n)}},i?.preloadingStrategy?XY(i.preloadingStrategy).\u0275providers:[],{provide:FN,multi:!0,useFactory:tJ},i?.initialNavigation?oJ(i):[],i?.bindToComponentInputs?Wr(8,[xP,{provide:uf,useExisting:xP}]).\u0275providers:[],[{provide:rO,useFactory:XP},{provide:M_,multi:!0,useExisting:rO}]]}}static forChild(r){return{ngModule:e,providers:[{provide:la,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(U(tO,8))},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({}),e})();function sJ(t){return"guarded"}function oJ(t){return["disabled"===t.initialNavigation?Wr(3,[{provide:w_,multi:!0,useFactory:()=>{const e=P(Pn);return()=>{e.setUpLocationChangeListener()}}},{provide:Vv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Wr(2,[{provide:Vv,useValue:0},{provide:w_,multi:!0,deps:[qt],useFactory:e=>{const n=e.get(iW,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Pn),s=e.get(ZP);WP(i,()=>{r(!0)}),e.get(ff).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const rO=new V(""),uJ=[];let cJ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({imports:[nO.forRoot(uJ),nO]}),e})();function iO(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){iO(s,r,i,o,a,"next",u)}function a(u){iO(s,r,i,o,a,"throw",u)}o(void 0)})}}const sO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new fJ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const da=function(t){return function(t){const e=sO(t);return jv.encodeByteArray(e,!0)}(t).replace(/\./g,"")},gf=function(t){try{return jv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},mf=()=>{try{return function mJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},aO=t=>{var e,n;return null===(n=null===(e=mf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},uO=()=>{var t;return null===(t=mf())||void 0===t?void 0:t.config},cO=t=>{var e;return null===(e=mf())||void 0===e?void 0:e[`_${t}`]};class yf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ai(){try{return"object"==typeof indexedDB}catch{return!1}}function ha(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function $v(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ln extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jn.prototype.create)}}class Jn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function SJ(t,e){return t.replace(AJ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ln(i,`${this.serviceName}: ${o} (${i}).`,r)}}const AJ=/\{\$([^}]+)}/g;function vf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dO(s)&&dO(o)){if(!vf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dO(t){return null!==t&&"object"==typeof t}function wf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class RJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function NJ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Hv),void 0===i.error&&(i.error=Hv),void 0===i.complete&&(i.complete=Hv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hv(){}const kJ=1e3,PJ=2,OJ=144e5,FJ=.5;function Gv(t,e=kJ,n=PJ){const r=e*Math.pow(n,t),i=Math.round(FJ*r*(Math.random()-.5)*2);return Math.min(OJ,r+i)}function _r(t){return t&&t._delegate?t._delegate:t}class ot{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ws="[DEFAULT]";class VJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function jJ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ws?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class BJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const qv=[];var ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{});const hO={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},$J=ce.INFO,HJ={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},zJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=HJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Is{constructor(e){this.name=e,this._logLevel=$J,this._logHandler=zJ,this._userLogHandler=null,qv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?hO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const GJ=(t,e)=>e.some(n=>t instanceof n);let fO,pO;const gO=new WeakMap,Wv=new WeakMap,mO=new WeakMap,Kv=new WeakMap,Qv=new WeakMap;let Yv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Wv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||mO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function XJ(t){return"function"==typeof t?function JJ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function WJ(){return pO||(pO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Jv(this),e),xi(gO.get(this))}:function(...e){return xi(t.apply(Jv(this),e))}:function(e,...n){const r=t.call(Jv(this),e,...n);return mO.set(r,e.sort?e.sort():[e]),xi(r)}}(t):(t instanceof IDBTransaction&&function QJ(t){if(Wv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wv.set(t,e)}(t),GJ(t,function qJ(){return fO||(fO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Yv):t)}function xi(t){if(t instanceof IDBRequest)return function KJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gO.set(n,t)}).catch(()=>{}),Qv.set(e,t),e}(t);if(Kv.has(t))return Kv.get(t);const e=XJ(t);return e!==t&&(Kv.set(t,e),Qv.set(e,t)),e}const Jv=t=>Qv.get(t);function yO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=xi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(xi(o.result),u.oldVersion,u.newVersion,xi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ZJ=["get","getKey","getAll","getAllKeys","count"],eX=["put","add","delete","clear"],Xv=new Map;function _O(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Xv.get(e))return Xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ZJ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Xv.set(e,s),s}!function YJ(t){Yv=t(Yv)}(t=>({...t,get:(e,n,r)=>_O(e,n)||t.get(e,n,r),has:(e,n)=>!!_O(e,n)||t.has(e,n)}));class tX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function nX(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Zv="@firebase/app",Es=new Is("@firebase/app"),If="[DEFAULT]",AX={[Zv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ds=new Map,Ef=new Map;function xX(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fa(t){const e=t.name;if(Ef.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Ef.set(e,t);for(const n of Ds.values())xX(n,t);return!0}function Df(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Kr=new Jn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class RX{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const pa="9.23.0";function wO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:If,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Kr.create("bad-app-name",{appName:String(i)});if(n||(n=uO()),!n)throw Kr.create("no-options");const s=Ds.get(i);if(s){if(vf(n,s.options)&&vf(r,s.config))return s;throw Kr.create("duplicate-app",{appName:i})}const o=new BJ(i);for(const u of Ef.values())o.addComponent(u);const a=new RX(n,r,o);return Ds.set(i,a),a}function ew(t=If){const e=Ds.get(t);if(!e&&t===If&&uO())return wO();if(!e)throw Kr.create("no-app",{appName:t});return e}function IO(){return Array.from(Ds.values())}function In(t,e,n){var r;let i=null!==(r=AX[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Es.warn(a.join(" "))}fa(new ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const NX="firebase-heartbeat-database",kX=1,Cc="firebase-heartbeat-store";let nw=null;function EO(){return nw||(nw=yO(NX,kX,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Cc)}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),nw}function rw(){return(rw=g(function*(t){try{return yield(yield EO()).transaction(Cc).objectStore(Cc).get(bO(t))}catch(e){if(e instanceof ln)Es.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(n.message)}}})).apply(this,arguments)}function DO(t,e){return iw.apply(this,arguments)}function iw(){return(iw=g(function*(t,e){try{const r=(yield EO()).transaction(Cc,"readwrite");yield r.objectStore(Cc).put(e,bO(t)),yield r.done}catch(n){if(n instanceof ln)Es.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n?.message});Es.warn(r.message)}}})).apply(this,arguments)}function bO(t){return`${t.name}!${t.options.appId}`}class LX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=TO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=TO(),{heartbeatsToSend:r,unsentEntries:i}=function VX(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=da(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function TO(){return(new Date).toISOString().substring(0,10)}class UX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ai()&&ha().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function PX(t){return rw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return DO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return DO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function CO(t){return da(JSON.stringify({version:2,heartbeats:t})).length}!function jX(t){fa(new ot("platform-logger",e=>new tX(e),"PRIVATE")),fa(new ot("heartbeat",e=>new LX(e),"PRIVATE")),In(Zv,"0.9.13",t),In(Zv,"0.9.13","esm2017"),In("fire-js","")}(""),In("firebase","9.23.0","app");class HX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function zX(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const sw="@firebase/app",bs=new Is("@firebase/app"),mZ={[sw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ts=new Map,Tf=new Map;function yZ(t,e){try{t.container.addComponent(e)}catch(n){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function On(t){const e=t.name;if(Tf.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;Tf.set(e,t);for(const n of Ts.values())yZ(n,t);return!0}function ow(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Qr=new Jn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});function Fn(t,e,n){var r;let i=null!==(r=mZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void bs.warn(a.join(" "))}On(new ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const EZ="firebase-heartbeat-database",DZ=1,Sc="firebase-heartbeat-store";let uw=null;function AO(){return uw||(uw=yO(EZ,DZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Sc)}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),uw}function cw(){return(cw=g(function*(t){try{return yield(yield AO()).transaction(Sc).objectStore(Sc).get(MO(t))}catch(e){if(e instanceof ln)bs.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e?.message});bs.warn(n.message)}}})).apply(this,arguments)}function xO(t,e){return lw.apply(this,arguments)}function lw(){return(lw=g(function*(t,e){try{const r=(yield AO()).transaction(Sc,"readwrite");yield r.objectStore(Sc).put(e,MO(t)),yield r.done}catch(n){if(n instanceof ln)bs.warn(n.message);else{const r=Qr.create("idb-set",{originalErrorMessage:n?.message});bs.warn(r.message)}}})).apply(this,arguments)}function MO(t){return`${t.name}!${t.options.appId}`}class SZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=RO(),{heartbeatsToSend:r,unsentEntries:i}=function AZ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=da(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function RO(){return(new Date).toISOString().substring(0,10)}class xZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ai()&&ha().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function bZ(t){return cw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function NO(t){return da(JSON.stringify({version:2,heartbeats:t})).length}!function MZ(t){On(new ot("platform-logger",e=>new HX(e),"PRIVATE")),On(new ot("heartbeat",e=>new SZ(e),"PRIVATE")),Fn(sw,"0.9.17",t),Fn(sw,"0.9.17","esm2017"),Fn("fire-js","")}("");const RZ=(t,e)=>e.some(n=>t instanceof n);let kO,PO;const OO=new WeakMap,dw=new WeakMap,FO=new WeakMap,hw=new WeakMap,fw=new WeakMap;let pw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||FO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function VZ(t){return"function"==typeof t?function LZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kZ(){return PO||(PO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(gw(this),e),Mi(OO.get(this))}:function(...e){return Mi(t.apply(gw(this),e))}:function(e,...n){const r=t.call(gw(this),e,...n);return FO.set(r,e.sort?e.sort():[e]),Mi(r)}}(t):(t instanceof IDBTransaction&&function OZ(t){if(dw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dw.set(t,e)}(t),RZ(t,function NZ(){return kO||(kO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,pw):t)}function Mi(t){if(t instanceof IDBRequest)return function PZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OO.set(n,t)}).catch(()=>{}),fw.set(e,t),e}(t);if(hw.has(t))return hw.get(t);const e=VZ(t);return e!==t&&(hw.set(t,e),fw.set(e,t)),e}const gw=t=>fw.get(t),jZ=["get","getKey","getAll","getAllKeys","count"],BZ=["put","add","delete","clear"],mw=new Map;function LO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(mw.get(e))return mw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=BZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!jZ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return mw.set(e,s),s}!function FZ(t){pw=t(pw)}(t=>({...t,get:(e,n,r)=>LO(e,n)||t.get(e,n,r),has:(e,n)=>!!LO(e,n)||t.has(e,n)}));const VO="@firebase/installations",yw="0.6.4",UO=1e4,jO=`w:${yw}`,BO="FIS_v2",$Z="https://firebaseinstallations.googleapis.com/v1",HZ=36e5,Yr=new Jn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $O(t){return t instanceof ln&&t.code.includes("request-failed")}function _w({projectId:t}){return`${$Z}/projects/${t}/installations`}function HO(t){return{token:t.token,requestStatus:2,expiresIn:WZ(t.expiresIn),creationTime:Date.now()}}function vw(t,e){return ww.apply(this,arguments)}function ww(){return(ww=g(function*(t,e){const r=(yield e.json()).error;return Yr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function zO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Iw(t){return Ew.apply(this,arguments)}function Ew(){return(Ew=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function WZ(t){return Number(t.replace("s","000"))}function Dw(){return(Dw=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_w(t),i=zO(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:BO,appId:t.appId,sdkVersion:jO})},u=yield Iw(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:HO(c.authToken)}}throw yield vw("Create Installation",u)})).apply(this,arguments)}function qO(t){return new Promise(e=>{setTimeout(e,t)})}const JZ=/^[cdef][\w-]{21}$/,bw="";function XZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function ZZ(t){return function YZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return JZ.test(n)?n:bw}catch{return bw}}function ga(t){return`${t.appName}!${t.appId}`}const ma=new Map;function WO(t,e){const n=ga(t);KO(n,e),function nee(t,e){const n=function QO(){return!Cs&&"BroadcastChannel"in self&&(Cs=new BroadcastChannel("[Firebase] FID Change"),Cs.onmessage=t=>{KO(t.data.key,t.data.fid)}),Cs}();n&&n.postMessage({key:t,fid:e}),function YO(){0===ma.size&&Cs&&(Cs.close(),Cs=null)}()}(n,e)}function KO(t,e){const n=ma.get(t);if(n)for(const r of n)r(e)}let Cs=null;const ree="firebase-installations-database",iee=1,Ss="firebase-installations-store";let Tw=null;function Cw(){return Tw||(Tw=function UZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mi(o.result),u.oldVersion,u.newVersion,Mi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(ree,iee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ss)}})),Tw}function Cf(t,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=g(function*(t,e){const n=ga(t),i=(yield Cw()).transaction(Ss,"readwrite"),s=i.objectStore(Ss),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&WO(t,e.fid),e})).apply(this,arguments)}function Aw(t){return xw.apply(this,arguments)}function xw(){return(xw=g(function*(t){const e=ga(t),r=(yield Cw()).transaction(Ss,"readwrite");yield r.objectStore(Ss).delete(e),yield r.done})).apply(this,arguments)}function Ac(t,e){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(t,e){const n=ga(t),i=(yield Cw()).transaction(Ss,"readwrite"),s=i.objectStore(Ss),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&WO(t,a.fid),a})).apply(this,arguments)}function Rw(t){return Nw.apply(this,arguments)}function Nw(){return Nw=g(function*(t){let e;const n=yield Ac(t.appConfig,r=>{const i=function see(t){return XO(t||{fid:XZ(),registrationStatus:0})}(r),s=function oee(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Yr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function aee(t,e){return kw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:uee(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===bw?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Nw.apply(this,arguments)}function kw(){return kw=g(function*(t,e){try{const n=yield function QZ(t,e){return Dw.apply(this,arguments)}(t,e);return Cf(t.appConfig,n)}catch(n){throw $O(n)&&409===n.customData.serverCode?yield Aw(t.appConfig):yield Cf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),kw.apply(this,arguments)}function uee(t){return Pw.apply(this,arguments)}function Pw(){return(Pw=g(function*(t){let e=yield JO(t.appConfig);for(;1===e.registrationStatus;)yield qO(100),e=yield JO(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Rw(t);return r||n}return e})).apply(this,arguments)}function JO(t){return Ac(t,e=>{if(!e)throw Yr.create("installation-not-found");return XO(e)})}function XO(t){return function cee(t){return 1===t.registrationStatus&&t.registrationTime+UO<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Ow(){return(Ow=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function dee(t,{fid:e}){return`${_w(t)}/${e}/authTokens:generate`}(t,n),i=function GO(t,{refreshToken:e}){const n=zO(t);return n.append("Authorization",function KZ(t){return`${BO} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:jO,appId:t.appId}})},u=yield Iw(()=>fetch(r,a));if(u.ok)return HO(yield u.json());throw yield vw("Generate Auth Token",u)})).apply(this,arguments)}function Fw(t){return Lw.apply(this,arguments)}function Lw(){return Lw=g(function*(t,e=!1){let n;const r=yield Ac(t.appConfig,s=>{if(!eF(s))throw Yr.create("not-registered");const o=s.authToken;if(!e&&function pee(t){return 2===t.requestStatus&&!function gee(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+HZ}(t)}(o))return s;if(1===o.requestStatus)return n=function hee(t,e){return Vw.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Yr.create("app-offline");const a=function mee(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function fee(t,e){return Uw.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Lw.apply(this,arguments)}function Vw(){return(Vw=g(function*(t,e){let n=yield ZO(t.appConfig);for(;1===n.authToken.requestStatus;)yield qO(100),n=yield ZO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Fw(t,e):r})).apply(this,arguments)}function ZO(t){return Ac(t,e=>{if(!eF(e))throw Yr.create("not-registered");return function yee(t){return 1===t.requestStatus&&t.requestTime+UO<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Uw(){return Uw=g(function*(t,e){try{const n=yield function lee(t,e){return Ow.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Cf(t.appConfig,r),n}catch(n){if(!$O(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Cf(t.appConfig,r)}else yield Aw(t.appConfig);throw n}}),Uw.apply(this,arguments)}function eF(t){return void 0!==t&&2===t.registrationStatus}function jw(){return(jw=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Rw(e);return r?r.catch(console.error):Fw(e).catch(console.error),n.fid})).apply(this,arguments)}function Bw(){return Bw=g(function*(t,e=!1){const n=t;return yield function wee(t){return $w.apply(this,arguments)}(n),(yield Fw(n,e)).token}),Bw.apply(this,arguments)}function $w(){return($w=g(function*(t){const{registrationPromise:e}=yield Rw(t);e&&(yield e)})).apply(this,arguments)}function Gw(t){return Yr.create("missing-app-config-values",{valueName:t})}const tF="installations",Tee=t=>{const e=t.getProvider("app").getImmediate(),n=function Dee(t){if(!t||!t.options)throw Gw("App Configuration");if(!t.name)throw Gw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Gw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ow(e,"heartbeat"),_delete:()=>Promise.resolve()}},Cee=t=>{const n=ow(t.getProvider("app").getImmediate(),tF).getImmediate();return{getId:()=>function _ee(t){return jw.apply(this,arguments)}(n),getToken:i=>function vee(t){return Bw.apply(this,arguments)}(n,i)}};(function See(){On(new ot(tF,Tee,"PUBLIC")),On(new ot("installations-internal",Cee,"PRIVATE"))})(),Fn(VO,yw),Fn(VO,yw,"esm2017");const qw="@firebase/remote-config",dn=new Jn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vee{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Uee(t=navigator){return t.languages&&t.languages[0]||t.language}class jee{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Uee()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const b=new Error("The operation was aborted.");b.name="AbortError",_(b)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),dn.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw dn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw dn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Hee{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function Bee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function $ee(t){if(!(t instanceof ln&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Gv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class qee{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Af(t,e){const n=t.target.error||void 0;return dn.create(e,{originalErrorMessage:n&&n?.message})}const As="app_namespace_store";class Yee{constructor(e,n,r,i=function Qee(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Af(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(As,{keyPath:"compositeKey"})}}catch(n){e(dn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([As],"readonly").objectStore(As),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Af(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(dn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([As],"readwrite").objectStore(As),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Af(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(dn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([As],"readwrite").objectStore(As),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Af(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(dn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Jee{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Zee(){return Jw.apply(this,arguments)}function Jw(){return(Jw=g(function*(){if(!Ai())return!1;try{return yield ha()}catch{return!1}})).apply(this,arguments)}!function Xee(){On(new ot("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dn.create("registration-window");if(!Ai())throw dn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw dn.create("registration-project-id");if(!o)throw dn.create("registration-api-key");if(!a)throw dn.create("registration-app-id");const u=new Yee(a,r.name,n=n||"firebase"),c=new Jee(u),l=new Is(qw);l.logLevel=ce.ERROR;const d=new jee(i,"10.3.0",n,s,o,a),h=new Hee(d,u),f=new Vee(h,u,c,l),p=new qee(r,f,c,u,l);return function Oee(t){const e=_r(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Fn(qw,"0.4.4"),Fn(qw,"0.4.4","esm2017")}();const ete=(t,e)=>e.some(n=>t instanceof n);let sF,oF;const aF=new WeakMap,Xw=new WeakMap,uF=new WeakMap,Zw=new WeakMap,eI=new WeakMap;let tI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Xw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||uF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ate(t){return"function"==typeof t?function ote(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nte(){return oF||(oF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(nI(this),e),Jr(aF.get(this))}:function(...e){return Jr(t.apply(nI(this),e))}:function(e,...n){const r=t.call(nI(this),e,...n);return uF.set(r,e.sort?e.sort():[e]),Jr(r)}}(t):(t instanceof IDBTransaction&&function ite(t){if(Xw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xw.set(t,e)}(t),ete(t,function tte(){return sF||(sF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,tI):t)}function Jr(t){if(t instanceof IDBRequest)return function rte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aF.set(n,t)}).catch(()=>{}),eI.set(e,t),e}(t);if(Zw.has(t))return Zw.get(t);const e=ate(t);return e!==t&&(Zw.set(t,e),eI.set(e,t)),e}const nI=t=>eI.get(t);function cF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Jr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Jr(o.result),u.oldVersion,u.newVersion,Jr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function rI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Jr(n).then(()=>{})}const ute=["get","getKey","getAll","getAllKeys","count"],cte=["put","add","delete","clear"],iI=new Map;function lF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(iI.get(e))return iI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ute.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return iI.set(e,s),s}!function ste(t){tI=t(tI)}(t=>({...t,get:(e,n,r)=>lF(e,n)||t.get(e,n,r),has:(e,n)=>!!lF(e,n)||t.has(e,n)}));const lte="/firebase-messaging-sw.js",dte="/firebase-cloud-messaging-push-scope",dF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hte="https://fcmregistrations.googleapis.com/v1",hF="google.c.a.c_id",fte="google.c.a.c_l",pte="google.c.a.ts";var xf=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(xf||{});function Xr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yte(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const sI="fcm_token_details_db",_te=5,fF="fcm_token_object_Store";function oI(){return oI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(sI))return null;let e=null;return(yield cF(sI,_te,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(fF))return;const c=a.objectStore(fF),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Xr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xr(d.auth),p256dh:Xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xr(d.auth),p256dh:Xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield rI(sI),yield rI("fcm_vapid_details_db"),yield rI("undefined"),function wte(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),oI.apply(this,arguments)}const Ite="firebase-messaging-database",Ete=1,xs="firebase-messaging-store";let aI=null;function uI(){return aI||(aI=cF(Ite,Ete,{upgrade:(t,e)=>{0===e&&t.createObjectStore(xs)}})),aI}function pF(t){return cI.apply(this,arguments)}function cI(){return cI=g(function*(t){const e=fI(t),r=yield(yield uI()).transaction(xs).objectStore(xs).get(e);if(r)return r;{const i=yield function vte(t){return oI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield lI(t,i),i}}),cI.apply(this,arguments)}function lI(t,e){return dI.apply(this,arguments)}function dI(){return(dI=g(function*(t,e){const n=fI(t),i=(yield uI()).transaction(xs,"readwrite");return yield i.objectStore(xs).put(e,n),yield i.done,e})).apply(this,arguments)}function hI(){return(hI=g(function*(t){const e=fI(t),r=(yield uI()).transaction(xs,"readwrite");yield r.objectStore(xs).delete(e),yield r.done})).apply(this,arguments)}function fI({appConfig:t}){return t.appId}const bt=new Jn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tte(t,e){return pI.apply(this,arguments)}function pI(){return(pI=g(function*(t,e){const n=yield _I(t),r=mF(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(yI(t.appConfig),i)).json()}catch(o){throw bt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw bt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw bt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function gI(){return(gI=g(function*(t,e){const n=yield _I(t),r=mF(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${yI(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw bt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw bt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw bt.create("token-update-no-token");return s.token})).apply(this,arguments)}function gF(t,e){return mI.apply(this,arguments)}function mI(){return(mI=g(function*(t,e){const r={method:"DELETE",headers:yield _I(t)};try{const s=yield(yield fetch(`${yI(t.appConfig)}/${e}`,r)).json();if(s.error)throw bt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw bt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function yI({projectId:t}){return`${hte}/projects/${t}/registrations`}function _I(t){return vI.apply(this,arguments)}function vI(){return(vI=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function mF({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==dF&&(i.web.applicationPubKey=r),i}const Ste=6048e5;function wI(){return wI=g(function*(t){const e=yield function Mte(t,e){return bI.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Xr(e.getKey("auth")),p256dh:Xr(e.getKey("p256dh"))},r=yield pF(t.firebaseDependencies);if(r){if(function Rte(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Ste?function xte(t,e){return EI.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield gF(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return _F(t.firebaseDependencies,n)}return _F(t.firebaseDependencies,n)}),wI.apply(this,arguments)}function II(){return II=g(function*(t){const e=yield pF(t.firebaseDependencies);e&&(yield gF(t.firebaseDependencies,e.token),yield function Dte(t){return hI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),II.apply(this,arguments)}function EI(){return EI=g(function*(t,e){try{const n=yield function Cte(t,e){return gI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield lI(t.firebaseDependencies,r),n}catch(n){throw yield function yF(t){return II.apply(this,arguments)}(t),n}}),EI.apply(this,arguments)}function _F(t,e){return DI.apply(this,arguments)}function DI(){return(DI=g(function*(t,e){const r={token:yield Tte(t,e),createTime:Date.now(),subscriptionOptions:e};return yield lI(t,r),r.token})).apply(this,arguments)}function bI(){return(bI=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yte(e)})})).apply(this,arguments)}function vF(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Nte(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function kte(t,e){e.data&&(t.data=e.data)}(e,t),function Pte(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function wF(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function TI(t){return bt.create("missing-app-config-values",{valueName:t})}wF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lte{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Fte(t){if(!t||!t.options)throw TI("App Configuration Object");if(!t.name)throw TI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw TI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function CI(){return(CI=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(lte,{scope:dte}),t.swRegistration.update().catch(()=>{})}catch(e){throw bt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function SI(){return(SI=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function IF(t){return CI.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw bt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function AI(){return(AI=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=dF)})).apply(this,arguments)}function xI(){return xI=g(function*(t,e){if(!navigator)throw bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bt.create("permission-blocked");return yield function Ute(t,e){return AI.apply(this,arguments)}(t,e?.vapidKey),yield function Vte(t,e){return SI.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Ate(t){return wI.apply(this,arguments)}(t)}),xI.apply(this,arguments)}function MI(){return(MI=g(function*(t,e,n){const r=function Bte(t){switch(t){case xf.NOTIFICATION_CLICKED:return"notification_open";case xf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[hF],message_name:n[fte],message_time:n[pte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function RI(){return RI=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===xf.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(vF(n)):t.onMessageHandler.next(vF(n)));const r=n.data;(function Ote(t){return"object"==typeof t&&!!t&&hF in t})(r)&&"1"===r["google.c.a.e"]&&(yield function jte(t,e,n){return MI.apply(this,arguments)}(t,n.messageType,r))}),RI.apply(this,arguments)}const DF="@firebase/messaging",Hte=t=>{const e=new Lte(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function $te(t,e){return RI.apply(this,arguments)}(e,n)),e},zte=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function EF(t,e){return xI.apply(this,arguments)}(e,r)}};function TF(){return NI.apply(this,arguments)}function NI(){return(NI=g(function*(){try{yield ha()}catch{return!1}return typeof window<"u"&&Ai()&&$v()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Gte(){On(new ot("messaging",Hte,"PUBLIC")),On(new ot("messaging-internal",zte,"PRIVATE")),Fn(DF,"0.12.4"),Fn(DF,"0.12.4","esm2017")}();const Mf="analytics",Kte="firebase_id",Qte="origin",Yte=6e4,Jte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",OI="https://www.googletagmanager.com/gtag/js",dt=new Is("@firebase/analytics"),Jt=new Jn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Zte(t){if(!t.startsWith(OI)){const e=Jt.create("invalid-gtag-resource",{gtagURL:t});return dt.warn(e.message),""}return t}function CF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function FI(){return(FI=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield CF(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){dt.error(a)}t("config",i,s)})).apply(this,arguments)}function LI(){return(LI=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield CF(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){dt.error(s)}})).apply(this,arguments)}const une=30,SF=new class lne{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function dne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function VI(){return(VI=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:dne(r)},s=Jte.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Jt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function UI(){return(UI=g(function*(t,e=SF,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Jt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Jt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new mne;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:Yte),AF({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function AF(t,e,n){return jI.apply(this,arguments)}function jI(){return jI=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=SF){var s;const{appId:o,measurementId:a}=t;try{yield function pne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Jt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function hne(t){return VI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function gne(t){if(!(t instanceof ln&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Gv(n,i.intervalMillis,une):Gv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),dt.debug(`Calling attemptFetch again in ${l} millis`),AF(t,d,r,i)}}),jI.apply(this,arguments)}class mne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let BI,KI;function $I(){return($I=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function QI(){return(QI=g(function*(){if(!Ai())return dt.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ha()}catch(t){return dt.warn(Jt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function YI(){return YI=g(function*(t,e,n,r,i,s,o){var a;const u=function fne(t){return UI.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>dt.error(f)),e.push(u);const c=function Dne(){return QI.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function ane(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(OI)&&n.src.includes(t))return n;return null})(s)||function tne(t,e){const n=function ene(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Zte}),r=document.createElement("script"),i=`${OI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),KI&&(i("consent","default",KI),function xF(t){KI=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Qte]="firebase",h.update=!0,null!=d&&(h[Kte]=d),i("config",l.measurementId,h),BI&&(i("set",BI),function MF(t){BI=t}(void 0)),l.measurementId}),YI.apply(this,arguments)}class Tne{constructor(e){this.app=e}_delete(){return delete vr[this.app.options.appId],Promise.resolve()}}let vr={},RF=[];const NF={};let PF,wr,Rf="dataLayer",JI=!1;function Sne(t,e,n){!function Cne(){const t=[];if(Bv()&&t.push("This is a browser extension environment."),$v()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jt.create("invalid-analytics-context",{errorInfo:e});dt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Jt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Jt.create("no-api-key");dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vr[r])throw Jt.create("already-exists",{id:r});if(!JI){!function nne(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Rf);const{wrappedGtag:s,gtagCore:o}=function one(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function sne(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function ine(t,e,n,r,i){return LI.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function rne(t,e,n,r,i,s){return FI.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){dt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(vr,RF,NF,Rf,"gtag");wr=s,PF=o,JI=!0}return vr[r]=function bne(t,e,n,r,i,s,o){return YI.apply(this,arguments)}(t,RF,NF,e,PF,Rf,n),new Tne(t)}function xne(){return XI.apply(this,arguments)}function XI(){return(XI=g(function*(){if(Bv()||!$v()||!Ai())return!1;try{return yield ha()}catch{return!1}})).apply(this,arguments)}const OF="@firebase/analytics";!function Rne(){On(new ot(Mf,(e,{options:n})=>Sne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),On(new ot("analytics-internal",function t(e){try{const n=e.getProvider(Mf).getImmediate();return{logEvent:(r,i,s)=>function Mne(t,e,n,r){t=_r(t),function yne(t,e,n,r,i){return $I.apply(this,arguments)}(wr,vr[t.app.options.appId],e,n,r).catch(i=>dt.error(i))}(n,r,i,s)}}catch(n){throw Jt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Fn(OF,"0.10.0"),Fn(OF,"0.10.0","esm2017")}();class Nne extends en{constructor(e,n){super()}schedule(e,n=0){return this}}const Nf={setInterval(t,e,...n){const{delegate:r}=Nf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Nf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class LF extends Nne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Nf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Nf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ro(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const VF={now:()=>(VF.delegate||Date).now(),delegate:void 0};class xc{constructor(e,n=xc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}xc.now=VF.now;class UF extends xc{constructor(e,n=xc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const One=new class Pne extends UF{}(class kne extends LF{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Fne=new UF(LF),kf=new Vu("7.6.1"),eE="__angularfire_symbol__analyticsIsSupportedValue",tE="__angularfire_symbol__analyticsIsSupported",nE="__angularfire_symbol__remoteConfigIsSupportedValue",rE="__angularfire_symbol__remoteConfigIsSupported",iE="__angularfire_symbol__messagingIsSupportedValue",sE="__angularfire_symbol__messagingIsSupported";function aE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[tE]||(globalThis[tE]=xne().then(t=>globalThis[eE]=t).catch(()=>globalThis[eE]=!1)),globalThis[sE]||(globalThis[sE]=TF().then(t=>globalThis[iE]=t).catch(()=>globalThis[iE]=!1)),globalThis[rE]||(globalThis[rE]=Zee().then(t=>globalThis[nE]=t).catch(()=>globalThis[nE]=!1));const uE=(t,e)=>{const n=e?[e]:IO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ya(){}class jF{constructor(e,n=One){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Lne{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ya,{},ya,ya)),n.pipe(Dt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cE=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new jF(Zone.current)),this.insideAngular=n.run(()=>new jF(Zone.current,Fne)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(U(we))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ms(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Rs(t){return Ms().ngZone.run(()=>t())}function Une(t){return Ms(),function jne(t){return function(n){return(n=n.lift(new Lne(t.ngZone))).pipe(nd(t.outsideAngular),td(t.insideAngular))}}(Ms())(t)}const Bne=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Rs(()=>t.apply(void 0,r))},Mc=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Rs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ya,{},ya,ya)))),r[s]=Bne(r[s],n));const i=function Vne(t){return Ms().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Le){const s=Ms();return i.pipe(nd(s.outsideAngular),td(s.insideAngular))}return Rs(()=>i)}return i instanceof Le?i.pipe(Une):i instanceof Promise?Rs(()=>new Promise((s,o)=>i.then(a=>Rs(()=>s(a)),a=>Rs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Rs(()=>i)};class _a{constructor(e){return e}}class lE{constructor(){return IO()}}const dE=new V("angularfire2._apps"),Hne={provide:_a,useFactory:function $ne(t){return t&&1===t.length?t[0]:new _a(ew())},deps:[[new Gt,dE]]},zne={provide:lE,deps:[[new Gt,dE]]};function Gne(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new _a(r)}}let qne=(()=>{class t{constructor(n){In("angularfire",kf.full,"core"),In("angularfire",kf.full,"app"),In("angular",Qx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(U(wi))},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({providers:[Hne,zne]}),t})();function Wne(t,...e){return{ngModule:qne,providers:[{provide:dE,useFactory:Gne(t),multi:!0,deps:[we,qt,cE,...e]}]}}const Kne=Mc(wO,!0),hE=new Map,BF={activated:!1,tokenObservers:[]},Qne={initialized:!1,enabled:!1};function Ue(t){return hE.get(t)||Object.assign({},BF)}function Pf(){return Qne}const fE="https://content-firebaseappcheck.googleapis.com/v1",Zne="exchangeDebugToken",$F={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class tre{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new yf,yield function nre(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new yf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Tt=new Jn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pE(t){if(!Ue(t).activated)throw Tt.create("use-before-activation",{appName:t.name})}function Lf(t,e){return mE.apply(this,arguments)}function mE(){return(mE=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Tt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Tt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Tt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function HF(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${fE}/projects/${n}/apps/${r}:${Zne}?key=${i}`,body:{debug_token:e}}}const ore="firebase-app-check-database",are=1,Rc="firebase-app-check-store";let Vf=null;function yE(){return(yE=g(function*(t,e){const r=(yield function GF(){return Vf||(Vf=new Promise((t,e)=>{try{const n=indexedDB.open(ore,are);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Tt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Rc,{keyPath:"compositeKey"})}}catch(n){e(Tt.create("storage-open",{originalErrorMessage:n?.message}))}}),Vf)}()).transaction(Rc,"readwrite"),s=r.objectStore(Rc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Tt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Nc=new Is("@firebase/app-check");function wE(t,e){return Ai()?function cre(t,e){return function qF(t,e){return yE.apply(this,arguments)}(function KF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Nc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function EE(){return Pf().enabled}function DE(){return bE.apply(this,arguments)}function bE(){return(bE=g(function*(){const t=Pf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gre={error:"UNKNOWN_ERROR"};function mre(t){return jv.encodeString(JSON.stringify(t),!1)}function Uf(t){return TE.apply(this,arguments)}function TE(){return(TE=g(function*(t,e=!1){const n=t.app;pE(n);const r=Ue(n);let s,i=r.token;if(i&&!va(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(va(u)?i=u:yield wE(n,void 0))}if(!e&&i&&va(i))return{token:i.token};let a,o=!1;if(EE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Lf(HF(n,yield DE()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield wE(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ue(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Nc.warn(u.message):Nc.error(u),s=u}return i?s?a=va(i)?{token:i.token,internalError:s}:XF(s):(a={token:i.token},r.token=i,yield wE(n,i)):a=XF(s),o&&function JF(t,e){const n=Ue(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function QF(t){return CE.apply(this,arguments)}function CE(){return(CE=g(function*(t){const e=t.app;pE(e);const{provider:n}=Ue(e);if(EE()){const r=yield DE(),{token:i}=yield Lf(HF(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function AE(t,e){const n=Ue(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function YF(t){const{app:e}=t,n=Ue(e);let r=n.tokenRefresher;r||(r=function yre(t){const{app:e}=t;return new tre(g(function*(){let r;if(r=Ue(e).token?yield Uf(t,!0):yield Uf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ue(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},$F.RETRIAL_MIN_WAIT,$F.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function va(t){return t.expireTimeMillis-Date.now()>0}function XF(t){return{token:mre(gre),error:t}}class _re{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ue(this.app);for(const n of e)AE(this.app,n.next);return Promise.resolve()}}const oL="app-check-internal";!function Nre(){On(new ot("app-check",t=>function vre(t,e){return new _re(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(oL).initialize()})),On(new ot(oL,t=>function wre(t){return{getToken:e=>Uf(t,e),getLimitedUseToken:()=>QF(t),addTokenListener:e=>function SE(t,e,n,r){const{app:i}=t,s=Ue(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&va(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),YF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>YF(t))}(t,"INTERNAL",e),removeTokenListener:e=>AE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Fn("@firebase/app-check","0.8.0")}();class NE{constructor(){return uE("app-check")}}function cL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}typeof window<"u"&&window;const Ure=function hL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fL=new Jn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$f=new Is("@firebase/auth");function Hf(t,...e){$f.logLevel<=ce.ERROR&&$f.error(`Auth (${pa}): ${t}`,...e)}function hn(t,...e){throw OE(t,...e)}function Ir(t,...e){return OE(t,...e)}function OE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fL.create(t,...e)}function S(t,e,...n){if(!t)throw OE(e,...n)}function Er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hf(e),new Error(e)}function Ri(t,e){t||Er(e)}function kc(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function gL(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=function EJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}()||function bJ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Bre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function FE(){return"http:"===gL()||"https:"===gL()}()||Bv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function LE(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zre=new Pc(3e4,6e4);function Oe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function je(t,e,n,r){return VE.apply(this,arguments)}function VE(){return(VE=g(function*(t,e,n,r,i={}){return yL(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=wf(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),mL.fetch()(_L(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function yL(t,e,n){return UE.apply(this,arguments)}function UE(){return(UE=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Hre),e);try{const i=new Gre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Oc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Oc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Oc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Oc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function pL(t,e,n){const r=Object.assign(Object.assign({},Ure()),{[e]:n});return new Jn("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);hn(t,l)}}catch(i){if(i instanceof ln)throw i;hn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function jE(){return(jE=g(function*(t,e,n,r,i={}){const s=yield je(t,e,n,r,i);return"mfaPendingCredential"in s&&hn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function _L(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?LE(t.config,i):`${t.config.apiScheme}://${i}`}class Gre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),zre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ir(t,e,r);return i.customData._tokenResponse=n,i}function BE(){return(BE=g(function*(t,e){return je(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function HE(){return(HE=g(function*(t,e){return je(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Fc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zE(){return(zE=g(function*(t,e=!1){const n=_r(t),r=yield n.getIdToken(e),i=zf(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Fc(GE(i.auth_time)),issuedAtTime:Fc(GE(i.iat)),expirationTime:Fc(GE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function GE(t){return 1e3*Number(t)}function zf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const i=gf(n);return i?JSON.parse(i):(Hf("Failed to decode base64 JWT payload"),null)}catch(i){return Hf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ei(t,e){return qE.apply(this,arguments)}function qE(){return(qE=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ln&&function Jre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Xre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class vL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lc(t){return WE.apply(this,arguments)}function WE(){return WE=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ei(t,function Kre(t,e){return HE.apply(this,arguments)}(n,{idToken:r}));S(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function tie(t){return t.map(e=>{var{providerId:n}=e,r=cL(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function eie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vL(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),WE.apply(this,arguments)}function KE(){return(KE=g(function*(t){const e=_r(t);yield Lc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function QE(){return(QE=g(function*(t,e){const n=yield yL(t,{},g(function*(){const r=wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_L(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Yre(t){const e=zf(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function nie(t,e){return QE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vc;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vc,this.toJSON())}_performRefresh(){return Er("not implemented")}}function Ni(t,e){S("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cL(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield ei(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Qre(t){return zE.apply(this,arguments)}(this,e)}reload(){return function Zre(t){return KE.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Lc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield ei(e,function qre(t,e){return BE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:N,isAnonymous:F,providerData:X,stsTokenManager:De}=n;S(b&&De,e,"internal-error");const Ut=Vc.fromJSON(this.name,De);S("string"==typeof b,e,"internal-error"),Ni(d,e.name),Ni(h,e.name),S("boolean"==typeof N,e,"internal-error"),S("boolean"==typeof F,e,"internal-error"),Ni(f,e.name),Ni(p,e.name),Ni(m,e.name),Ni(y,e.name),Ni(w,e.name),Ni(_,e.name);const Rr=new Ns({uid:b,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:F,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Ut,createdAt:w,lastLoginAt:_});return X&&Array.isArray(X)&&(Rr.providerData=X.map(KC=>Object.assign({},KC))),y&&(Rr._redirectEventId=y),Rr}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Vc;i.updateFromServerResponse(n);const s=new Ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Lc(s),s})()}}const wL=new Map;function ti(t){Ri(t instanceof Function,"Expected a class definition");let e=wL.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wL.set(t,e),e)}const IL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Gf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ns._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Ia(ti(IL),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ti(IL);const o=Gf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Ns._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ia(s,e,r)):new Ia(s,e,r)})()}}function EL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SL(e))return"Blackberry";if(AL(e))return"Webos";if(YE(e))return"Safari";if((e.includes("chrome/")||bL(e))&&!e.includes("edge/"))return"Chrome";if(CL(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function DL(t=lt()){return/firefox\//i.test(t)}function YE(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bL(t=lt()){return/crios\//i.test(t)}function TL(t=lt()){return/iemobile/i.test(t)}function CL(t=lt()){return/android/i.test(t)}function SL(t=lt()){return/blackberry/i.test(t)}function AL(t=lt()){return/webos/i.test(t)}function qf(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xL(t=lt()){return qf(t)||CL(t)||AL(t)||SL(t)||/windows phone/i.test(t)||TL(t)}function ML(t,e=[]){let n;switch(t){case"Browser":n=EL(lt());break;case"Worker":n=`${EL(lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${r}`}function RL(t,e){return XE.apply(this,arguments)}function XE(){return(XE=g(function*(t,e){return je(t,"GET","/v2/recaptchaConfig",Oe(t,e))})).apply(this,arguments)}function kL(t){return void 0!==t&&void 0!==t.enterprise}class PL{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function ZE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ir("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function aie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function OL(t){return`__${t}${Math.floor(1e6*Math.random())}`}class FL{constructor(e){this.type="recaptcha-enterprise",this.auth=ht(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){RL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new PL(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;kL(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&kL(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));ZE("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class die{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class hie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LL(this),this.idTokenSubscription=new LL(this),this.beforeStateQueue=new die(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ia.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Lc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $re(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?_r(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(ti(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield RL(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new PL(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new FL(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&ti(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield Ia.create(n,[ti(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ML(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function jre(t,...e){$f.logLevel<=ce.WARN&&$f.warn(`Auth (${pa}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function ht(t){return _r(t)}class LL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function MJ(t,e){const n=new RJ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function VL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class _ie{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}function ni(t,e){return mD.apply(this,arguments)}function mD(){return(mD=g(function*(t,e){return function Zr(t,e,n,r){return jE.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Oe(t,e))})).apply(this,arguments)}class Pi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Nie extends Pi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ln{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Ns._fromIdTokenResponse(e,r,i),o=HL(r);return new Ln({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=HL(r);return new Ln({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function HL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Jf extends ln{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jf(e,n,r,i)}}function zL(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Jf._fromErrorAndOperation(t,s,e,r):s})}function CD(){return(CD=g(function*(t,e,n=!1){const r=yield ei(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ln._forOperation(t,"link",r)})).apply(this,arguments)}function AD(){return(AD=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ei(t,zL(r,i,e,t),n);S(s.idToken,r,"internal-error");const o=zf(s.idToken);S(o,r,"internal-error");const{sub:a}=o;return S(t.uid===a,r,"user-mismatch"),Ln._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&hn(r,"user-mismatch"),s}})).apply(this,arguments)}function xD(){return(xD=g(function*(t,e,n=!1){const r="signIn",i=yield zL(t,r,e),s=yield Ln._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Zf="__sak";class QL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tse=(()=>{class t extends QL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xie(){const t=lt();return YE(t)||qf(t)}()&&function sie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xL(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function iie(){return function TJ(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),YL=(()=>{class t extends QL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let rse=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function nse(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function sb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class ise{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=sb("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Xe(){return window}function ob(){return typeof Xe().WorkerGlobalScope<"u"&&"function"==typeof Xe().importScripts}function ab(){return(ab=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const JL="firebaseLocalStorageDb",ep="firebaseLocalStorage",XL="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tp(t,e){return t.transaction([ep],e?"readwrite":"readonly").objectStore(ep)}function ub(){const t=indexedDB.open(JL,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ep,{keyPath:XL})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(ep)?e(r):(r.close(),yield function lse(){const t=indexedDB.deleteDatabase(JL);return new $c(t).toPromise()}(),e(yield ub()))}))})}function ZL(t,e,n){return cb.apply(this,arguments)}function cb(){return(cb=g(function*(t,e,n){const r=tp(t,!0).put({[XL]:e,value:n});return new $c(r).toPromise()})).apply(this,arguments)}function lb(){return(lb=g(function*(t,e){const n=tp(t,!1).get(e),r=yield new $c(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function e2(t,e){const n=tp(t,!0).delete(e);return new $c(n).toPromise()}const pse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield ub()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return ob()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=rse._getInstance(function use(){return ob()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function ose(){return ab.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new ise(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function ase(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield ub();return yield ZL(n,Zf,"1"),yield e2(n,Zf),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>ZL(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function dse(t,e){return lb.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>e2(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=tp(o,!1).getAll();return new $c(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();OL("rcb"),new Pc(3e4,6e4);class vb extends _ie{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ni(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ni(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mse(t){return function WL(t,e){return xD.apply(this,arguments)}(t.auth,new vb(t),t.bypassAuthState)}function Rse(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),function qL(t,e){return AD.apply(this,arguments)}(n,new vb(t),t.bypassAuthState)}function Nse(t){return wb.apply(this,arguments)}function wb(){return(wb=g(function*(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),function TD(t,e){return CD.apply(this,arguments)}(n,new vb(t),t.bypassAuthState)})).apply(this,arguments)}class kse{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mse;case"linkViaPopup":case"linkViaRedirect":return Nse;case"reauthViaPopup":case"reauthViaRedirect":return Rse;default:hn(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Pc(2e3,1e4);const Pse="pendingRedirect",Hc=new Map;class Ose extends kse{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Hc.get(n.auth._key());if(!r){try{const s=(yield function Fse(t,e){return Tb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Hc.set(n.auth._key(),r)}return n.bypassAuthState||Hc.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function Tb(){return(Tb=g(function*(t,e){const n=function r2(t){return Gf(Pse,t.config.apiKey,t.name)}(e),r=function n2(t){return ti(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Lse(t,e){Hc.set(t._key(),e)}function i2(t,e){return Nb.apply(this,arguments)}function Nb(){return(Nb=g(function*(t,e,n=!1){const r=ht(t),i=function Ps(t,e){return e?ti(e):(S(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Ose(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class $se{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Hse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a2(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!a2(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(o2(e))}saveEventToCache(e){this.cachedEventUids.add(o2(e)),this.lastProcessedEventTime=Date.now()}}function o2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a2({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Pb(){return(Pb=g(function*(t,e={}){return je(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Gse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qse=/^https?/;function Ob(){return Ob=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function zse(t){return Pb.apply(this,arguments)}(t);for(const n of e)try{if(Kse(n))return}catch{}hn(t,"unauthorized-domain")}),Ob.apply(this,arguments)}function Kse(t){const e=kc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!qse.test(n))return!1;if(Gse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qse=new Pc(3e4,6e4);function u2(){const t=Xe().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let rp=null;const Xse=new Pc(5e3,15e3),Zse="__/auth/iframe",eoe="emulator/auth/iframe",toe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},noe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function roe(t){const e=t.config;S(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?LE(e,eoe):`https://${t.config.authDomain}/${Zse}`,r={apiKey:e.apiKey,appName:t.name,v:pa},i=noe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wf(r).slice(1)}`}function Fb(){return Fb=g(function*(t){const e=yield function Jse(t){return rp=rp||function Yse(t){return new Promise((e,n)=>{var r,i,s;function o(){u2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u2(),n(Ir(t,"network-request-failed"))},timeout:Qse.get()})}if(null!==(i=null===(r=Xe().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Xe().gapi)||void 0===s||!s.load){const a=OL("iframefcb");return Xe()[a]=()=>{gapi.load?o():n(Ir(t,"network-request-failed"))},ZE(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw rp=null,e})}(t),rp}(t),n=Xe().gapi;return S(n,t,"internal-error"),e.open({where:document.body,url:roe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:toe,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ir(t,"network-request-failed"),u=Xe().setTimeout(()=>{o(a)},Xse.get());function c(){Xe().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Fb.apply(this,arguments)}const soe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class c2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hoe="__/auth/handler",foe="emulator/auth/handler",poe=encodeURIComponent("fac");function l2(t,e,n,r,i,s){return Lb.apply(this,arguments)}function Lb(){return(Lb=g(function*(t,e,n,r,i,s){S(t.config.authDomain,t,"auth-domain-config-required"),S(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pa,eventId:i};if(e instanceof Pi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function xJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Nie){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${poe}=${encodeURIComponent(u)}`:"";return`${function goe({config:t}){return t.emulator?LE(t,foe):`https://${t.authDomain}/${hoe}`}(t)}?${wf(a).slice(1)}${c}`})).apply(this,arguments)}const Vb="webStorageSupport",yoe=class moe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YL,this._completeRedirectFn=i2,this._overrideRedirectResult=Lse}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ri(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield l2(e,n,r,kc(),i);return function loe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},soe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=lt().toLowerCase();n&&(a=bL(c)?"_blank":n),DL(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function rie(t=lt()){var e;return qf(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function doe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new c2(null);const d=window.open(e||"",a,l);S(d,t,"popup-blocked");try{d.focus()}catch{}return new c2(d)}(e,a,sb())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function sse(t){Xe().location.href=t}(yield l2(e,n,r,kc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function ioe(t){return Fb.apply(this,arguments)}(e),i=new $se(e);return r.register("authEvent",s=>(S(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vb,{type:Vb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Vb];void 0!==o&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Wse(t){return Ob.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xL()||YE()||qf()}};var f2="@firebase/auth";class _oe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Eoe=cO("authIdTokenMaxAge")||300;let g2=null;const Doe=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Eoe)return;const s=r?.token;g2!==s&&(g2=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function boe(t=ew()){const e=Df(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function fie(t,e){const n=Df(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(vf(n.getOptions(),e??{}))return i;hn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:yoe,persistence:[pse,tse,YL]}),r=cO("authTokenSyncURL");if(r){const s=Doe(r);(function Wie(t,e,n){_r(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function qie(t,e,n,r){_r(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=aO("auth");return i&&function gie(t,e,n){const r=ht(t);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=VL(e),{host:o,port:a}=function mie(t){const e=VL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:UL(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:UL(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function yie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function woe(t){fa(new ot("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;S(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ML(t)},c=new hie(r,i,s,u);return function pie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ti);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new ot("auth-internal",e=>{const n=ht(e.getProvider("auth").getImmediate());return new _oe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(f2,"0.23.2",function voe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),In(f2,"0.23.2","esm2017")}("Browser");class jb{constructor(e){return e}}class y2{constructor(){return uE("auth")}}const Bb=new V("angularfire2.auth-instances");function Coe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new jb(r)}}const Soe={provide:y2,deps:[[new Gt,Bb]]},Aoe={provide:jb,useFactory:function Toe(t,e){const n=aE("auth",t,e);return n&&new jb(n)},deps:[[new Gt,Bb],_a]};let xoe=(()=>{class t{constructor(){In("angularfire",kf.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({providers:[Aoe,Soe]}),t})();function Moe(t,...e){return{ngModule:xoe,providers:[{provide:Bb,useFactory:Coe(t),multi:!0,deps:[we,qt,cE,lE,[new Gt,NE],...e]}]}}const Roe=Mc(boe,!0);var M,Noe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xn={},$b=$b||{},Q=Noe||self;function sp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function zc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Hb="closure_uid_"+(1e9*Math.random()>>>0),Poe=0;function Ooe(t,e,n){return t.call.apply(t.bind,arguments)}function Foe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Pt(t,e,n){return(Pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ooe:Foe).apply(null,arguments)}function op(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Oi(){this.s=this.s,this.o=this.o}Oi.prototype.s=!1,Oi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function koe(t){Object.prototype.hasOwnProperty.call(t,Hb)&&t[Hb]||(t[Hb]=++Poe)}(this)},Oi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function zb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function v2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(sp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var Voe=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",()=>{},e),Q.removeEventListener("test",()=>{},e)}catch{}return t}();function Gc(t){return/^[\s\xa0]*$/.test(t)}function ap(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Dr(t){return-1!=ap().indexOf(t)}function Gb(t){return Gb[" "](t),t}Gb[" "]=function(){};var Wb,t,joe=Dr("Opera"),Da=Dr("Trident")||Dr("MSIE"),w2=Dr("Edge"),qb=w2||Da,I2=Dr("Gecko")&&!(-1!=ap().toLowerCase().indexOf("webkit")&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),Boe=-1!=ap().toLowerCase().indexOf("webkit")&&!Dr("Edge");function E2(){var t=Q.document;return t?t.documentMode:void 0}e:{var Kb="",Qb=(t=ap(),I2?/rv:([^\);]+)(\)|;)/.exec(t):w2?/Edge\/([\d\.]+)/.exec(t):Da?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Boe?/WebKit\/(\S+)/.exec(t):joe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Qb&&(Kb=Qb?Qb[1]:""),Da){var Yb=E2();if(null!=Yb&&Yb>parseFloat(Kb)){Wb=String(Yb);break e}}Wb=Kb}var $oe=Q.document&&Da&&(E2()||parseInt(Wb,10))||void 0;function qc(t,e){if(Ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(I2){e:{try{Gb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Hoe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qc.$.h.call(this)}}ft(qc,Ot);var Hoe={2:"touch",3:"pen",4:"mouse"};qc.prototype.h=function(){qc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wc="closure_listenable_"+(1e6*Math.random()|0),zoe=0;function Goe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++zoe,this.fa=this.ia=!1}function up(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Xb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function b2(t){const e={};for(const n in t)e[n]=t[n];return e}const T2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<T2.length;s++)n=T2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cp(t){this.src=t,this.g={},this.h=0}function Zb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=_2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(up(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function e0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}cp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=e0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Goe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var t0="closure_lm_"+(1e6*Math.random()|0),n0={};function S2(t,e,n,r,i){if(r&&r.once)return x2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)S2(t,e[s],n,r,i);return null}return n=a0(n),t&&t[Wc]?t.O(e,n,zc(r)?!!r.capture:!!r,i):A2(t,e,n,!1,r,i)}function A2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=zc(i)?!!i.capture:!!i,a=s0(t);if(a||(t[t0]=a=new cp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Woe(){const e=Koe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Voe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(R2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function x2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)x2(t,e[s],n,r,i);return null}return n=a0(n),t&&t[Wc]?t.P(e,n,zc(r)?!!r.capture:!!r,i):A2(t,e,n,!0,r,i)}function M2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)M2(t,e[s],n,r,i);else r=zc(r)?!!r.capture:!!r,n=a0(n),t&&t[Wc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=e0(s=t.g[e],n,r,i))&&(up(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=s0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=e0(e,n,r,i)),(n=-1<t?e[t]:null)&&r0(n))}function r0(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Wc])Zb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(R2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=s0(e))?(Zb(n,t),0==n.h&&(n.src=null,e[t0]=null)):up(t)}}}function R2(t){return t in n0?n0[t]:n0[t]="on"+t}function Koe(t,e){if(t.fa)t=!0;else{e=new qc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&r0(t),t=n.call(r,e)}return t}function s0(t){return(t=t[t0])instanceof cp?t:null}var o0="__closure_events_fn_"+(1e9*Math.random()>>>0);function a0(t){return"function"==typeof t?t:(t[o0]||(t[o0]=function(e){return t.handleEvent(e)}),t[o0])}function pt(){Oi.call(this),this.i=new cp(this),this.S=this,this.J=null}function Ct(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ot(e,t);else if(e instanceof Ot)e.target=e.target||t;else{var i=e;C2(e=new Ot(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=lp(o,r,!0,e)&&i}if(i=lp(o=e.g=t,r,!0,e)&&i,i=lp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=lp(o=e.g=n[s],r,!1,e)&&i}function lp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Zb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ft(pt,Oi),pt.prototype[Wc]=!0,pt.prototype.removeEventListener=function(t,e,n,r){M2(this,t,e,n,r)},pt.prototype.N=function(){if(pt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)up(n[r]);delete t.g[e],t.h--}}this.J=null},pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var u0=Q.JSON.stringify;function Yoe(){var t=c0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var N2=new class Qoe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Xoe,t=>t.reset());class Xoe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Zoe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function eae(t){Q.setTimeout(()=>{throw t},0)}let Kc,Qc=!1,c0=new class Joe{constructor(){this.h=this.g=null}add(e,n){const r=N2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},k2=()=>{const t=Q.Promise.resolve(void 0);Kc=()=>{t.then(tae)}};var tae=()=>{for(var t;t=Yoe();){try{t.h.call(t.g)}catch(n){eae(n)}var e=N2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qc=!1};function dp(t,e){pt.call(this),this.h=t||1,this.g=e||Q,this.j=Pt(this.qb,this),this.l=Date.now()}function l0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function d0(t,e,n){if("function"==typeof t)n&&(t=Pt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Pt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function P2(t){t.g=d0(()=>{t.g=null,t.i&&(t.i=!1,P2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ft(dp,pt),(M=dp.prototype).ga=!1,M.T=null,M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ct(this,"tick"),this.ga&&(l0(this),this.start()))}},M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.N=function(){dp.$.N.call(this),l0(this),delete this.g};class nae extends Oi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:P2(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yc(t){Oi.call(this),this.h=t,this.g={}}ft(Yc,Oi);var O2=[];function F2(t,e,n,r){Array.isArray(n)||(n&&(O2[0]=n.toString()),n=O2);for(var i=0;i<n.length;i++){var s=S2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function L2(t){Xb(t.g,function(e,n){this.g.hasOwnProperty(n)&&r0(e)},t),t.g={}}function hp(){this.g=!0}function ba(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return u0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Yc.prototype.N=function(){Yc.$.N.call(this),L2(this)},Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hp.prototype.Ea=function(){this.g=!1},hp.prototype.info=function(){};var Os={},V2=null;function fp(){return V2=V2||new pt}function U2(t){Ot.call(this,Os.Ta,t)}function Jc(t){const e=fp();Ct(e,new U2(e))}function j2(t,e){Ot.call(this,Os.STAT_EVENT,t),this.stat=e}function Xt(t){const e=fp();Ct(e,new j2(e,t))}function B2(t,e){Ot.call(this,Os.Ua,t),this.size=e}function Xc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Os.Ta="serverreachability",ft(U2,Ot),Os.STAT_EVENT="statevent",ft(j2,Ot),Os.Ua="timingevent",ft(B2,Ot);var pp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function h0(){}function z2(){}h0.prototype.h=null;var g0,Zc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function f0(){Ot.call(this,"d")}function p0(){Ot.call(this,"c")}function gp(){}function el(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yc(this),this.P=aae,this.V=new dp(t=qb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new G2}function G2(){this.i=null,this.g="",this.h=!1}ft(f0,Ot),ft(p0,Ot),ft(gp,h0),gp.prototype.g=function(){return new XMLHttpRequest},gp.prototype.i=function(){return{}},g0=new gp;var aae=45e3,m0={},mp={};function y0(t,e,n){t.L=1,t.v=wp(ri(e)),t.s=n,t.S=!0,q2(t,null)}function q2(t,e){t.G=Date.now(),tl(t),t.A=ri(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),nV(n.i,"t",r),t.C=0,n=t.l.J,t.h=new G2,t.g=CV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new nae(Pt(t.Pa,t,t.g),t.O)),F2(t.U,t.g,"readystatechange",t.nb),e=t.I?b2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Jc(),function rae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function W2(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function K2(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=uae(t,n),i==mp){4==e&&(t.o=4,Xt(14),r=!1),ba(t.j,t.m,null,"[Incomplete Response]");break}if(i==m0){t.o=4,Xt(15),ba(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ba(t.j,t.m,i,null),_0(t,i)}W2(t)&&i!=mp&&i!=m0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),T0(e),e.M=!0,Xt(11))):(ba(t.j,t.m,n,"[Invalid Chunked Response]"),Fs(t),nl(t))}function uae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?mp:(n=Number(e.substring(n,r)),isNaN(n)?m0:(r+=1)+n>e.length?mp:(e=e.slice(r,r+n),t.C=r+n,e))}function tl(t){t.Y=Date.now()+t.P,Q2(t,t.P)}function Q2(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Xc(Pt(t.lb,t),e)}function yp(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function nl(t){0==t.l.H||t.J||EV(t.l,t)}function Fs(t){yp(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,l0(t.V),L2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function _0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||v0(n.i,t)))if(!t.K&&v0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Cp(n),bp(n)}b0(n),Xt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xc(Pt(n.ib,n),6e3));if(1>=sV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Vs(n,11)}else if((t.K||n.g==t)&&Cp(n),!Gc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(w0(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Ae(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=TV(r,r.J?r.pa:null,r.Y),o.K){oV(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(yp(a),tl(a)),r.g=o}else wV(r);0<n.j.length&&Tp(n)}else"stop"!=c[0]&&"close"!=c[0]||Vs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Vs(n,7):D0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Jc()}catch{}}function Y2(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(sp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function lae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function cae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(sp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(M=el.prototype).setTimeout=function(t){this.P=t},M.nb=function(t){t=t.target;const e=this.M;e&&3==br(t)?e.l():this.Pa(t)},M.Pa=function(t){try{if(t==this.g)e:{const l=br(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||qb||this.g&&(this.h.h||this.g.ja()||pV(this.g)))){this.J||4!=l||7==e||Jc(),yp(this);var n=this.g.da();this.ca=n;t:if(W2(this)){var r=pV(this.g);t="";var i=r.length,s=4==br(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fs(this),nl(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function iae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Xt(12),Fs(this),nl(this);break e}ba(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_0(this,n)}this.S?(K2(this,l,o),qb&&this.i&&3==l&&(F2(this.U,this.V,"tick",this.mb),this.V.start())):(ba(this.j,this.m,o,null),_0(this,o)),4==l&&Fs(this),this.i&&!this.J&&(4==l?EV(this.l,this):(this.i=!1,tl(this)))}else(function Aae(t){const e={};t=(t.g&&2<=br(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Gc(t[r]))continue;var n=Zoe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function qoe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Xt(12)):(this.o=0,Xt(13)),Fs(this),nl(this)}}}catch{}},M.mb=function(){if(this.g){var t=br(this.g),e=this.g.ja();this.C<e.length&&(yp(this),K2(this,t,e),this.i&&4!=t&&tl(this))}},M.cancel=function(){this.J=!0,Fs(this)},M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function sae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Jc(),Xt(17)),Fs(this),this.o=2,nl(this)):Q2(this,this.Y-t)};var J2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ls(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ls){this.h=t.h,_p(this,t.j),this.s=t.s,this.g=t.g,vp(this,t.m),this.l=t.l;var e=t.i,n=new sl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),X2(this,n),this.o=t.o}else t&&(e=String(t).match(J2))?(this.h=!1,_p(this,e[1]||"",!0),this.s=rl(e[2]||""),this.g=rl(e[3]||"",!0),vp(this,e[4]),this.l=rl(e[5]||"",!0),X2(this,e[6]||"",!0),this.o=rl(e[7]||"")):(this.h=!1,this.i=new sl(null,this.h))}function ri(t){return new Ls(t)}function _p(t,e,n){t.j=n?rl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function X2(t,e,n){e instanceof sl?(t.i=e,function yae(t,e){e&&!t.j&&(Fi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(eV(this,r),nV(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=il(e,gae)),t.i=new sl(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function wp(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function il(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,hae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ls.prototype.toString=function(){var t=[],e=this.j;e&&t.push(il(e,Z2,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(il(e,Z2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(il(n,"/"==n.charAt(0)?pae:fae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",il(n,mae)),t.join("")};var Z2=/[#\/\?@]/g,fae=/[#\?:]/g,pae=/[#\?]/g,gae=/[#\?@]/g,mae=/#/g;function sl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fi(t){t.g||(t.g=new Map,t.h=0,t.i&&function dae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function eV(t,e){Fi(t),e=Ta(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function tV(t,e){return Fi(t),e=Ta(t,e),t.g.has(e)}function nV(t,e,n){eV(t,e),0<n.length&&(t.i=null,t.g.set(Ta(t,e),zb(n)),t.h+=n.length)}function Ta(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function rV(t){this.l=t||vae,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=sl.prototype).add=function(t,e){Fi(this),this.i=null,t=Ta(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},M.forEach=function(t,e){Fi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},M.ta=function(){Fi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},M.Z=function(t){Fi(this);let e=[];if("string"==typeof t)tV(this,t)&&(e=e.concat(this.g.get(Ta(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},M.set=function(t,e){return Fi(this),this.i=null,tV(this,t=Ta(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},M.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var vae=10;function iV(t){return!!t.h||!!t.g&&t.g.size>=t.j}function sV(t){return t.h?1:t.g?t.g.size:0}function v0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function w0(t,e){t.g?t.g.add(e):t.h=e}function oV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function aV(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return zb(t.i)}rV.prototype.cancel=function(){if(this.i=aV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var wae=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function Iae(){this.g=new wae}function Eae(t,e,n){const r=n||"";try{Y2(t,function(i,s){let o=i;zc(i)&&(o=u0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ip(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ol(t){this.l=t.fc||null,this.j=t.ob||!1}function Ep(t,e){pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=I0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft(ol,h0),ol.prototype.g=function(){return new Ep(this.l,this.j)},ol.prototype.i=function(t){return function(){return t}}({}),ft(Ep,pt);var I0=0;function uV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function al(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ul(t)}function ul(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(M=Ep.prototype).open=function(t,e){if(this.readyState!=I0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ul(this)},M.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,al(this)),this.readyState=I0},M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ul(this)),this.g&&(this.readyState=3,ul(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?al(this):ul(this),3==this.readyState&&uV(this)}},M.Za=function(t){this.g&&(this.response=this.responseText=t,al(this))},M.Ya=function(t){this.g&&(this.response=t,al(this))},M.ka=function(){this.g&&al(this)},M.setRequestHeader=function(t,e){this.v.append(t,e)},M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ep.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var bae=Q.JSON.parse;function Be(t){pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cV,this.L=this.M=!1}ft(Be,pt);var cV="",Tae=/^https?$/i,Cae=["POST","PUT"];function lV(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dV(t),Dp(t)}function dV(t){t.F||(t.F=!0,Ct(t,"complete"),Ct(t,"error"))}function hV(t){if(t.h&&typeof $b<"u"&&(!t.C[1]||4!=br(t)||2!=t.da()))if(t.v&&4==br(t))d0(t.La,0,t);else if(Ct(t,"readystatechange"),4==br(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(J2)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!Tae.test(i?i.toLowerCase():"")}n=r}if(n)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var s=2<br(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",dV(t)}}finally{Dp(t)}}}function Dp(t,e){if(t.g){fV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch{}}}function fV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function br(t){return t.g?t.g.readyState:0}function pV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function gV(t){let e="";return Xb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function E0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gV(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ae(t,e,n))}function cl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mV(t){this.Ga=0,this.j=[],this.l=new hp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cl("baseRetryDelayMs",5e3,t),this.hb=cl("retryDelaySeedMs",1e4,t),this.eb=cl("forwardChannelMaxRetries",2,t),this.xa=cl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new rV(t&&t.concurrentRequestLimit),this.Ja=new Iae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function D0(t){if(yV(t),3==t.H){var e=t.W++,n=ri(t.I);if(Ae(n,"SID",t.K),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),ll(t,n),(e=new el(t,t.l,e)).L=2,e.v=wp(ri(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=CV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tl(e)}bV(t)}function bp(t){t.g&&(T0(t),t.g.cancel(),t.g=null)}function yV(t){bp(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Cp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function Tp(t){if(!iV(t.i)&&!t.m){t.m=!0;var e=t.Na;Kc||k2(),Qc||(Kc(),Qc=!0),c0.add(e,t),t.C=0}}function _V(t,e){var n;n=e?e.m:t.W++;const r=ri(t.I);Ae(r,"SID",t.K),Ae(r,"RID",n),Ae(r,"AID",t.V),ll(t,r),t.o&&t.s&&E0(r,t.o,t.s),n=new el(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),w0(t.i,n),y0(n,r,e)}function ll(t,e){t.na&&Xb(t.na,function(n,r){Ae(e,r,n)}),t.h&&Y2({},function(n,r){Ae(e,r,n)})}function vV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Pt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Eae(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function wV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kc||k2(),Qc||(Kc(),Qc=!0),c0.add(e,t),t.A=0}}function b0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Xc(Pt(t.Ma,t),DV(t,t.A)),t.A++,0))}function T0(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function IV(t){t.g=new el(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ri(t.wa);Ae(e,"RID","rpc"),Ae(e,"SID",t.K),Ae(e,"AID",t.V),Ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ae(e,"TO",t.qa),Ae(e,"TYPE","xmlhttp"),ll(t,e),t.o&&t.s&&E0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=wp(ri(e)),n.s=null,n.S=!0,q2(n,t)}function Cp(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function EV(t,e){var n=null;if(t.g==e){Cp(t),T0(t),t.g=null;var r=2}else{if(!v0(t.i,e))return;n=e.F,oV(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ct(r=fp(),new B2(r,n)),Tp(t)}else wV(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function xae(t,e){return!(sV(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Xc(Pt(t.Na,t,e),DV(t,t.C)),t.C++,0)))}(t,e)||2==r&&b0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Vs(t,5);break;case 4:Vs(t,10);break;case 3:Vs(t,6);break;default:Vs(t,2)}}function DV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Vs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Pt(t.pb,t);n||(n=new Ls("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||_p(n,"https"),wp(n)),function Dae(t,e){const n=new hp;if(Q.Image){const r=new Image;r.onload=op(Ip,n,r,"TestLoadImage: loaded",!0,e),r.onerror=op(Ip,n,r,"TestLoadImage: error",!1,e),r.onabort=op(Ip,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=op(Ip,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xt(2);t.H=0,t.h&&t.h.za(e),bV(t),yV(t)}function bV(t){if(t.H=0,t.ma=[],t.h){const e=aV(t.i);(0!=e.length||0!=t.j.length)&&(v2(t.ma,e),v2(t.ma,t.j),t.i.i.length=0,zb(t.j),t.j.length=0),t.h.ya()}}function TV(t,e,n){var r=n instanceof Ls?ri(n):new Ls(n);if(""!=r.g)e&&(r.g=e+"."+r.g),vp(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ls(null);r&&_p(s,r),e&&(s.g=e),i&&vp(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ae(r,n,e),Ae(r,"VER",t.ra),ll(t,r),r}function CV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Be(n&&t.Ha&&!t.va?new ol({ob:!0}):t.va)).Oa(t.J),e}function SV(){}function Sp(){if(Da&&!(10<=Number($oe)))throw Error("Environmental error: no available transport.")}function En(t,e){pt.call(this),this.g=new mV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Gc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gc(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ca(this)}function AV(t){f0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function xV(){p0.call(this),this.status=1}function Ca(t){this.g=t}function Zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function C0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(M=Be.prototype).Oa=function(t){this.M=t},M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():g0.g(),this.C=function H2(t){return t.h||(t.h=t.i())}(this.u?this.u:g0),this.g.onreadystatechange=Pt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void lV(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=_2(Cae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fV(this),0<this.B&&((this.L=function Sae(t){return Da&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.ua,this)):this.A=d0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){lV(this,s)}},M.ua=function(){typeof $b<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))},M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),Dp(this))},M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dp(this,!0)),Be.$.N.call(this)},M.La=function(){this.s||(this.G||this.v||this.l?hV(this):this.kb())},M.kb=function(){hV(this)},M.isActive=function(){return!!this.g},M.da=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bae(e)}},M.Ia=function(){return this.m},M.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=mV.prototype).ra=8,M.H=1,M.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new el(this,this.l,t);let s=this.s;if(this.U&&(s?(s=b2(s),C2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vV(this,i,e),Ae(n=ri(this.I),"RID",t),Ae(n,"CVER",22),this.F&&Ae(n,"X-HTTP-Session-Id",this.F),ll(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(gV(s)))+"&"+e:this.o&&E0(n,this.o,s)),w0(this.i,i),this.bb&&Ae(n,"TYPE","init"),this.P?(Ae(n,"$req",e),Ae(n,"SID","null"),i.aa=!0,y0(i,n,null)):y0(i,n,e),this.H=2}}else 3==this.H&&(t?_V(this,t):0==this.j.length||iV(this.i)||_V(this))},M.Ma=function(){if(this.u=null,IV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xc(Pt(this.jb,this),t)}},M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xt(10),bp(this),IV(this))},M.ib=function(){null!=this.v&&(this.v=null,bp(this),b0(this),Xt(19))},M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xt(2)):(this.l.info("Failed to ping google.com"),Xt(1))},M.isActive=function(){return!!this.h&&this.h.isActive(this)},(M=SV.prototype).Ba=function(){},M.Aa=function(){},M.za=function(){},M.ya=function(){},M.isActive=function(){return!0},M.Va=function(){},Sp.prototype.g=function(t,e){return new En(t,e)},ft(En,pt),En.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=TV(t,null,t.Y),Tp(t)},En.prototype.close=function(){D0(this.g)},En.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=u0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Tp(e)},En.prototype.N=function(){this.g.h=null,delete this.j,D0(this.g),delete this.g,En.$.N.call(this)},ft(AV,f0),ft(xV,p0),ft(Ca,SV),Ca.prototype.Ba=function(){Ct(this.g,"a")},Ca.prototype.Aa=function(t){Ct(this.g,new AV(t))},Ca.prototype.za=function(t){Ct(this.g,new xV)},Ca.prototype.ya=function(){Ct(this.g,"b")},ft(Zn,function Mae(){this.blockSize=-1}),Zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)C0(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){C0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){C0(this,r),i=0;break}}this.h=i,this.i+=e},Zn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Rae={};function S0(t){return-128<=t&&128>t?function Uoe(t,e){var n=Rae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new me([0|e],0>e?-1:0)}):new me([0|t],0>t?-1:0)}function Tr(t){if(isNaN(t)||!isFinite(t))return Sa;if(0>t)return St(Tr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=A0;return new me(e,0)}var A0=4294967296,Sa=S0(0),x0=S0(1),RV=S0(16777216);function ii(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Vn(t){return-1==t.h}function St(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new me(n,~t.h).add(x0)}function Ap(t,e){return t.add(St(e))}function xp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dl(t,e){this.g=t,this.h=e}function Mp(t,e){if(ii(e))throw Error("division by zero");if(ii(t))return new dl(Sa,Sa);if(Vn(t))return e=Mp(St(t),e),new dl(St(e.g),St(e.h));if(Vn(e))return e=Mp(t,St(e)),new dl(St(e.g),e.h);if(30<t.g.length){if(Vn(t)||Vn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=x0,r=e;0>=r.X(t);)n=NV(n),r=NV(r);var i=Aa(n,1),s=Aa(r,1);for(r=Aa(r,2),n=Aa(n,2);!ii(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Aa(r,1),n=Aa(n,1)}return e=Ap(t,i.R(e)),new dl(i,e)}for(i=Sa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Tr(n)).R(e);Vn(o)||0<o.X(t);)o=(s=Tr(n-=r)).R(e);ii(s)&&(s=x0),i=i.add(s),t=Ap(t,o)}return new dl(i,t)}function NV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new me(n,t.h)}function Aa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new me(i,t.h)}(M=me.prototype).ea=function(){if(Vn(this))return-St(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:A0+r)*e,e*=A0}return t},M.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ii(this))return"0";if(Vn(this))return"-"+St(this).toString(t);for(var e=Tr(Math.pow(t,6)),n=this,r="";;){var i=Mp(n,e).g,s=((0<(n=Ap(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ii(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},M.X=function(t){return Vn(t=Ap(this,t))?-1:ii(t)?0:1},M.abs=function(){return Vn(this)?St(this):this},M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new me(n,-2147483648&n[n.length-1]?-1:0)},M.R=function(t){if(ii(this)||ii(t))return Sa;if(Vn(this))return Vn(t)?St(this).R(St(t)):St(St(this).R(t));if(Vn(t))return St(this.R(St(t)));if(0>this.X(RV)&&0>t.X(RV))return Tr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,xp(n,2*r+2*i),n[2*r+2*i+1]+=s*u,xp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,xp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,xp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new me(n,0)},M.gb=function(t){return Mp(this,t).h},M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new me(n,this.h&t.h)},M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new me(n,this.h|t.h)},M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new me(n,this.h^t.h)},Sp.prototype.createWebChannel=Sp.prototype.g,En.prototype.send=En.prototype.u,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,pp.NO_ERROR=0,pp.TIMEOUT=8,pp.HTTP_ERROR=6,$2.COMPLETE="complete",z2.EventType=Zc,Zc.OPEN="a",Zc.CLOSE="b",Zc.ERROR="c",Zc.MESSAGE="d",pt.prototype.listen=pt.prototype.O,Be.prototype.listenOnce=Be.prototype.P,Be.prototype.getLastError=Be.prototype.Sa,Be.prototype.getLastErrorCode=Be.prototype.Ia,Be.prototype.getStatus=Be.prototype.da,Be.prototype.getResponseJson=Be.prototype.Wa,Be.prototype.getResponseText=Be.prototype.ja,Be.prototype.send=Be.prototype.ha,Be.prototype.setWithCredentials=Be.prototype.Oa,Zn.prototype.digest=Zn.prototype.l,Zn.prototype.reset=Zn.prototype.reset,Zn.prototype.update=Zn.prototype.j,me.prototype.add=me.prototype.add,me.prototype.multiply=me.prototype.R,me.prototype.modulo=me.prototype.gb,me.prototype.compare=me.prototype.X,me.prototype.toNumber=me.prototype.ea,me.prototype.toString=me.prototype.toString,me.prototype.getBits=me.prototype.D,me.fromNumber=Tr,me.fromString=function MV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return St(MV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Tr(Math.pow(e,8)),r=Sa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Tr(Math.pow(e,s)),r=r.R(s).add(Tr(o))):r=(r=r.R(n)).add(Tr(o))}return r};var Nae=Xn.createWebChannelTransport=function(){return new Sp},kae=Xn.getStatEventTarget=function(){return fp()},M0=Xn.ErrorCode=pp,Pae=Xn.EventType=$2,Oae=Xn.Event=Os,kV=Xn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fae=Xn.FetchXmlHttpFactory=ol,Rp=Xn.WebChannel=z2,Lae=Xn.XhrIo=Be,Vae=Xn.Md5=Zn,xa=Xn.Integer=me;const PV="@firebase/firestore";class gt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");let Ma="9.23.0";const Li=new Is("@firebase/firestore");function R0(){return Li.logLevel}function T(t,...e){if(Li.logLevel<=ce.DEBUG){const n=e.map(N0);Li.debug(`Firestore (${Ma}): ${t}`,...n)}}function We(t,...e){if(Li.logLevel<=ce.ERROR){const n=e.map(N0);Li.error(`Firestore (${Ma}): ${t}`,...n)}}function er(t,...e){if(Li.logLevel<=ce.WARN){const n=e.map(N0);Li.warn(`Firestore (${Ma}): ${t}`,...n)}}function N0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+t;throw We(e),new Error(e)}function O(t,e){t||k()}function x(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class at{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class OV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class jae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bae{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new at;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new at,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new at)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(O("string"==typeof r.accessToken),new OV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e),new gt(e)}}class $ae{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Hae{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new $ae(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zae{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(O("string"==typeof n.token),this.T=n.token,new FV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class LV{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Gae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function q(t,e){return t<e?-1:t>e?1:0}function Ra(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class L{constructor(e){this.timestamp=e}static fromTimestamp(e){return new L(e)}static min(){return new L(new Fe(0,0))}static max(){return new L(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hl{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===hl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ae extends hl{construct(e,n,r){return new ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const qae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends hl{construct(e,n,r){return new Ke(e,n,r)}static isValidIdentifier(e){return qae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ke(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(n)}static emptyPath(){return new Ke([])}}class A{constructor(e){this.path=e}static fromPath(e){return new A(ae.fromString(e))}static fromName(e){return new A(ae.fromString(e).popFirst(5))}static empty(){return new A(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new A(new ae(e.slice()))}}function jV(t){return new Dn(t.readTime,t.key,-1)}class Dn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dn(L.min(),A.empty(),-1)}static max(){return new Dn(L.max(),A.empty(),-1)}}function P0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=A.comparator(t.documentKey,e.documentKey),0!==n?n:q(t.largestBatchId,e.largestBatchId))}const BV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vi(t){return O0.apply(this,arguments)}function O0(){return O0=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==BV)throw t;T("LocalStore","Unexpectedly lost primary lease")}),O0.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Ui(t){return"IndexedDbTransactionError"===t.name}let bn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function gl(t){return null==t}function ml(t){return 0===t&&1/t==-1/0}function YV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class Se{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fp(this.root,e,this.comparator,!0)}}class Fp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1,At.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(t,e,n,r,i){return this}insert(t,e,n){return new At(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XV(this.data.getIterator())}getIteratorFrom(e){return new XV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class XV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fn{constructor(e){this.fields=e,e.sort(Ke.comparator)}static empty(){return new fn([])}unionWith(e){let n=new xe(Ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ZV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ZV("Invalid base64 string: "+i):i}}(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const _ue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(O(!!t),"string"==typeof t){let e=0;const n=_ue.exec(t);if(O(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function si(t){return"string"==typeof t?ut.fromBase64String(t):ut.fromUint8Array(t)}function Lp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vp(t){const e=t.mapValue.fields.__previous_value__;return Lp(e)?Vp(e):e}function yl(t){const e=Bi(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}class vue{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Bs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bs&&e.projectId===this.projectId&&e.database===this.database}}const $i={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lp(t)?4:rU(t)?9007199254740991:10:k()}function Sr(t,e){if(t===e)return!0;const n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yl(t).isEqual(yl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Bi(r.timestampValue),o=Bi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,si(t.bytesValue).isEqual(si(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return $e(r.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(r.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return $e(r.integerValue)===$e(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=$e(r.doubleValue),o=$e(i.doubleValue);return s===o?ml(s)===ml(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ra(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(YV(s)!==YV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Sr(s[a],o[a])))return!1;return!0}(t,e);default:return k()}var i}function _l(t,e){return void 0!==(t.values||[]).find(n=>Sr(n,e))}function zi(t,e){if(t===e)return 0;const n=Hi(t),r=Hi(e);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=$e(i.integerValue||i.doubleValue),a=$e(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return eU(t.timestampValue,e.timestampValue);case 4:return eU(yl(t),yl(e));case 5:return q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=si(i),a=si(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=q(o[u],a[u]);if(0!==c)return c}return q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=q($e(i.latitude),$e(s.latitude));return 0!==o?o:q($e(i.longitude),$e(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=zi(o[u],a[u]);if(c)return c}return q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===$i.mapValue&&s===$i.mapValue)return 0;if(i===$i.mapValue)return 1;if(s===$i.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=q(a[l],c[l]);if(0!==d)return d;const h=zi(o[a[l]],u[c[l]]);if(0!==h)return h}return q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw k()}}function eU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return q(t,e);const n=Bi(t),r=Bi(e),i=q(n.seconds,r.seconds);return 0!==i?i:q(n.nanos,r.nanos)}function ka(t){return V0(t)}function V0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Bi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?si(t.bytesValue).toBase64():"referenceValue"in t?A.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=V0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${V0(r.fields[a])}`;return s+"}"}(t.mapValue):k();var e}function U0(t){return!!t&&"integerValue"in t}function vl(t){return!!t&&"arrayValue"in t}function tU(t){return!!t&&"nullValue"in t}function nU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bp(t){return!!t&&"mapValue"in t}function wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class xt{constructor(e){this.value=e}static empty(){return new xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Ke.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ji(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xt(wl(this.value))}}class Me{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Me(e,0,L.min(),L.min(),L.min(),xt.empty(),0)}static newFoundDocument(e,n,r,i){return new Me(e,1,n,L.min(),r,i,0)}static newNoDocument(e,n){return new Me(e,2,n,L.min(),L.min(),xt.empty(),0)}static newUnknownDocument(e,n){return new Me(e,3,n,L.min(),L.min(),xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(L.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=L.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Me&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gi{constructor(e,n){this.position=e,this.inclusive=n}}function aU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?A.comparator(A.fromName(o.referenceValue),n.key):zi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function uU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}class Pa{constructor(e,n="asc"){this.field=e,this.dir=n}}function Eue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class cU{}class re extends cU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Due(e,n,r):"array-contains"===n?new Cue(e,r):"in"===n?new gU(e,r):"not-in"===n?new Sue(e,r):"array-contains-any"===n?new Aue(e,r):new re(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new bue(e,r):new Tue(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(zi(n,this.value)):null!==n&&Hi(this.value)===Hi(n)&&this.matchesComparison(zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ye extends cU{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ye(e,n)}matches(e){return Oa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Oa(t){return"and"===t.op}function B0(t){return function lU(t){for(const e of t.filters)if(e instanceof ye)return!1;return!0}(t)&&Oa(t)}function $0(t){if(t instanceof re)return t.field.canonicalString()+t.op.toString()+ka(t.value);if(B0(t))return t.filters.map(e=>$0(e)).join(",");{const e=t.filters.map(n=>$0(n)).join(",");return`${t.op}(${e})`}}function dU(t,e){return t instanceof re?(n=t,(r=e)instanceof re&&n.op===r.op&&n.field.isEqual(r.field)&&Sr(n.value,r.value)):t instanceof ye?function(n,r){return r instanceof ye&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&dU(s,r.filters[o]),!0)}(t,e):void k();var n,r}function fU(t){return t instanceof re?`${(e=t).field.canonicalString()} ${e.op} ${ka(e.value)}`:t instanceof ye?function(e){return e.op.toString()+" {"+e.getFilters().map(fU).join(" ,")+"}"}(t):"Filter";var e}class Due extends re{constructor(e,n,r){super(e,n,r),this.key=A.fromName(r.referenceValue)}matches(e){const n=A.comparator(e.key,this.key);return this.matchesComparison(n)}}class bue extends re{constructor(e,n){super(e,"in",n),this.keys=pU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Tue extends re{constructor(e,n){super(e,"not-in",n),this.keys=pU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>A.fromName(r.referenceValue))}class Cue extends re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vl(n)&&_l(n.arrayValue,this.value)}}class gU extends re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&_l(this.value.arrayValue,n)}}class Sue extends re{constructor(e,n){super(e,"not-in",n)}matches(e){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!_l(this.value.arrayValue,n)}}class Aue extends re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_l(this.value.arrayValue,r))}}class xue{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function H0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xue(t,e,n,r,i,s,o)}function Hs(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),e.dt=n}return e.dt}function Il(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Eue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uU(t.startAt,e.startAt)&&uU(t.endAt,e.endAt)}function $p(t){return A.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class oi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Fa(t){return new oi(t)}function vU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function zs(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function zp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function z0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Pa(n)),e.wt.push(new Pa(Ke.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Pa(Ke.keyField(),s))}}}return e.wt}function Zt(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=H0(e.path,e.collectionGroup,zs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of zs(e))n.push(new Pa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Gi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gi(e.startAt.position,e.startAt.inclusive):null;e._t=H0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Gp(t,e,n){return new oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function El(t,e){return Il(Zt(t),Zt(e))&&t.limitType===e.limitType}function wU(t){return`${Hs(Zt(t))}|lt:${t.limitType}`}function W0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>fU(r)).join(", ")}]`),gl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),`Target(${n})`}(Zt(t))}; limitType=${t.limitType})`}function Dl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):A.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of zs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=aU(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,zs(n),r)||n.endAt&&!function(i,s,o){const a=aU(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,zs(n),r)));var n,r}function EU(t){return(e,n)=>{let r=!1;for(const i of zs(t)){const s=Mue(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Mue(t,e,n){const r=t.field.isKeyField()?A.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?zi(a,u):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}class ai{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function JV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const Rue=new Se(A.comparator);function pn(){return Rue}const DU=new Se(A.comparator);function bl(...t){let e=DU;for(const n of t)e=e.insert(n.key,n);return e}function bU(t){let e=DU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ar(){return Tl()}function TU(){return Tl()}function Tl(){return new ai(t=>t.toString(),(t,e)=>t.isEqual(e))}new Se(A.comparator);const kue=new xe(A.comparator);function ee(...t){let e=kue;for(const n of t)e=e.add(n);return e}const Pue=new xe(q);class qp{constructor(){this._=void 0}}function Oue(t,e,n){return t instanceof La?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Lp(i)&&(i=Vp(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Gs?MU(t,e):t instanceof qs?RU(t,e):function(r,i){const s=function xU(t,e){return t instanceof Va?U0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=NU(s)+NU(r.gt);return U0(s)&&U0(r.gt)?function SU(t){return{integerValue:""+t}}(o):function CU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ml(e)?"-0":e}}(r.serializer,o)}(t,e)}function Fue(t,e,n){return t instanceof Gs?MU(t,e):t instanceof qs?RU(t,e):n}class La extends qp{}class Gs extends qp{constructor(e){super(),this.elements=e}}function MU(t,e){const n=kU(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class qs extends qp{constructor(e){super(),this.elements=e}}function RU(t,e){let n=kU(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class Va extends qp{constructor(e,n){super(),this.serializer=e,this.gt=n}}function NU(t){return $e(t.integerValue||t.doubleValue)}function kU(t){return vl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ke}static exists(e){return new ke(void 0,e)}static updateTime(e){return new ke(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Q0{}function PU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ja(t.key,ke.none()):new Ua(t.key,t.data,ke.none());{const n=t.data,r=xt.empty();let i=new xe(Ke.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ui(t.key,r,new fn(i.toArray()),ke.none())}}function Uue(t,e,n){t instanceof Ua?function(r,i,s){const o=r.value.clone(),a=LU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(r,i,s){if(!Wp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=LU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(FU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Sl(t,e,n,r){return t instanceof Ua?function(i,s,o,a){if(!Wp(i.precondition,s))return o;const u=i.value.clone(),c=VU(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(i,s,o,a){if(!Wp(i.precondition,s))return o;const u=VU(i.fieldTransforms,a,s),c=s.data;return c.setAll(FU(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Wp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function OU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ra(n,r,(i,s)=>function Lue(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Gs&&r instanceof Gs||n instanceof qs&&r instanceof qs?Ra(n.elements,r.elements,Sr):n instanceof Va&&r instanceof Va?Sr(n.gt,r.gt):n instanceof La&&r instanceof La);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ua extends Q0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ui extends Q0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function FU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function LU(t,e,n){const r=new Map;O(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Fue(o,a,n[i]))}return r}function VU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Oue(s,o,e))}return r}class ja extends Q0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Uue(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=PU(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(L.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(n,r)=>OU(n,r))&&Ra(this.baseMutations,e.baseMutations,(n,r)=>OU(n,r))}}class Z0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $ue{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ze,ue;function jU(t){if(void 0===t)return We("GRPC error has no .code"),I.UNKNOWN;switch(t){case Ze.OK:return I.OK;case Ze.CANCELLED:return I.CANCELLED;case Ze.UNKNOWN:return I.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return I.INTERNAL;case Ze.UNAVAILABLE:return I.UNAVAILABLE;case Ze.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Ze.NOT_FOUND:return I.NOT_FOUND;case Ze.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Ze.ABORTED:return I.ABORTED;case Ze.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Ze.DATA_LOSS:return I.DATA_LOSS;default:return k()}}(ue=Ze||(Ze={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";class eT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Kp}static getOrCreateInstance(){return null===Kp&&(Kp=new eT),Kp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Kp=null;const Hue=new xa([4294967295,4294967295],0);function $U(t){const e=function BU(){return new TextEncoder}().encode(t),n=new Vae;return n.update(e),new Uint8Array(n.digest())}function HU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xa([n,r],0),new xa([i,s],0)]}class tT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Al(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=xa.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(xa.fromNumber(r)));return 1===i.compare(Hue)&&(i=new xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=$U(e),[r,i]=HU(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=$U(e),[r,i]=HU(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xl(L.min(),i,new Se(q),pn(),ee())}}class Ml{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ml(r,n,ee(),ee(),ee())}}class Qp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class zU{constructor(e,n){this.targetId=e,this.Vt=n}}class GU{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qU{constructor(){this.St=0,this.Dt=KU(),this.Ct=ut.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ee(),n=ee(),r=ee();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new Ml(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=KU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class zue{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=pn(),this.zt=WU(),this.Wt=new Se(q)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if($p(o))if(0===i){const a=new A(o.path);this.Yt(r,a,Me.newNoDocument(a,L.min()))}else O(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=eT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},b=d.unchangedNames;return b&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=b?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=b?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(w=null===(y=b?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=si(s).toUint8Array()}catch(l){if(l instanceof ZV)return er("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new tT(u,o,a)}catch(l){return er(l instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&$p(a.target)){const u=new A(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Me.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ee();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new xl(e,n,this.Wt,this.jt,r);return this.jt=pn(),this.zt=WU(),this.Wt=new Se(q),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new qU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new xe(q),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new qU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function WU(){return new Se(A.comparator)}function KU(){return new Se(A.comparator)}const Gue={asc:"ASCENDING",desc:"DESCENDING"},que={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wue={and:"AND",or:"OR"};class Kue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nT(t,e){return t.useProto3Json||gl(e)?e:{value:e}}function Qe(t){return O(!!t),L.fromTimestamp(function(e){const n=Bi(e);return new Fe(n.seconds,n.nanos)}(t))}function YU(t){const e=ae.fromString(t);return O(sj(e)),e}function xr(t,e){const n=YU(e);if(n.get(1)!==t.databaseId.projectId)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new A(XU(n))}function iT(t,e){return function rT(t,e){return(n=t,new ae(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function Nl(t){return new ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XU(t){return O(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function tj(t,e){return{documents:[iT(t,e.path)]}}function oT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=iT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=iT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return ij(ye.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:qi((l=c).field),direction:ece(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=nT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function nj(t){let e=function JU(t){const e=YU(t);return 4===e.length?ae.emptyPath():XU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=rj(l);return d instanceof ye&&B0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Pa($a((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,gl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Gi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Gi(l.values||[],!l.before)}(n.endAt)),function _U(t,e,n,r,i,s,o,a){return new oi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function rj(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=$a(e.unaryFilter.field);return re.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=$a(e.unaryFilter.field);return re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$a(e.unaryFilter.field);return re.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$a(e.unaryFilter.field);return re.create(s,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(t):void 0!==t.fieldFilter?re.create($a((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return ye.create(e.compositeFilter.filters.map(n=>rj(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return k()}}(e.compositeFilter.op))}(t):k();var e}function ece(t){return Gue[t]}function tce(t){return que[t]}function nce(t){return Wue[t]}function qi(t){return{fieldPath:t.canonicalString()}}function $a(t){return Ke.fromServerFormat(t.fieldPath)}function ij(t){return t instanceof re?function(e){if("=="===e.op){if(nU(e.value))return{unaryFilter:{field:qi(e.field),op:"IS_NAN"}};if(tU(e.value))return{unaryFilter:{field:qi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nU(e.value))return{unaryFilter:{field:qi(e.field),op:"IS_NOT_NAN"}};if(tU(e.value))return{unaryFilter:{field:qi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qi(e.field),op:tce(e.op),value:e.value}}}(t):t instanceof ye?function(e){const n=e.getFilters().map(r=>ij(r));return 1===n.length?n[0]:{compositeFilter:{op:nce(e.op),filters:n}}}(t):k()}function sj(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ci{constructor(e,n,r,i,s=L.min(),o=L.min(),a=ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oj{constructor(e){this.fe=e}}function aT(t){const e=nj({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gp(e,e.limit,"L"):e}class Ys{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe($e(e.integerValue));else if("doubleValue"in e){const r=$e(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),ml(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(si(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?rU(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):k()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),A.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ys.Ve=new Ys;class hce{constructor(){this.rn=new fT}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Dn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Dn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class fT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(ae.comparator)).toArray()}}new Uint8Array(0);class Lt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Lt(e,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(41943040,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);class Xs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Xs(0)}static Mn(){return new Xs(-1)}}class _ce{constructor(){this.changes=new ai(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Me.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ice{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Nj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Sl(r.mutation,i,fn.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pn();const o=Tl(),a=Tl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ui)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Sl(l.mutation,c,l.mutation.getFieldMask(),Fe.now())):o.set(c.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Ice(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tl();let i=new Se((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||fn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=TU();l.forEach(h=>{if(!s.has(h)){const f=PU(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return A.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function G0(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Ar());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:bU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new A(n)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=bl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new oi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Me.newInvalidDocument(c)))});let o=bl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Sl(c.mutation,u,fn.empty(),Fe.now()),Dl(n,u)&&(o=o.insert(a,u))}),o})}}class Ece{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Qe(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:aT(r.bundledQuery),readTime:Qe(r.readTime)}),v.resolve();var r}}class Dce{constructor(){this.overlays=new Se(A.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ar();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Ar(),s=n.length+1,o=new A(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Se((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Ar(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Ar(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Z0(n,r));let s=this.ls.get(n);void 0===s&&(s=ee(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class pT{constructor(){this.fs=new xe(yt.ds),this.ws=new xe(yt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new yt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new yt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new A(new ae([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new A(new ae([])),r=new yt(n,e),i=new yt(n,e+1);let s=ee();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return A.comparator(e.key,n.key)||q(e.As,n.As)}static _s(e,n){return q(e.As,n.As)||A.comparator(e.key,n.key)}}class bce{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new xe(yt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new J0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(q);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;A.isDocumentKey(s)||(s=s.child(""));const o=new yt(new A(s),0);let a=new xe(q);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){O(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new yt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Tce{constructor(e){this.Ds=e,this.docs=new Se(A.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Me.newInvalidDocument(n))}getEntries(e,n){let r=pn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Me.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pn();const o=n.path,a=new A(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||P0(jV(l),r)<=0||(i.has(l.key)||Dl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){k()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Cce(this)}getSize(e){return v.resolve(this.size)}}class Cce extends _ce{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Sce{constructor(e){this.persistence=e,this.xs=new ai(n=>Hs(n),Il),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.Ns=0,this.ks=new pT,this.targetCount=0,this.Ms=Xs.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Xs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class gT{constructor(e,n){this.$s={},this.overlays={},this.Os=new bn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Sce(this),this.indexManager=new hce,this.remoteDocumentCache=new Tce(r=>this.referenceDelegate.Ls(r)),this.serializer=new oj(n),this.qs=new Ece(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dce,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new bce(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new Ace(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Ace extends Qae{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Qs=new pT,this.js=null}static zs(e){return new ig(e)}get Ws(){if(this.js)return this.js;throw k()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=A.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,L.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class vT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vT(e,n.fromCache,r,i)}}class Pj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(vU(n))return v.resolve(null);let r=Zt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Gp(n,null,"F"),r=Zt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Gp(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return vU(n)||i.isEqual(L.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(R0()<=ce.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),W0(n)),this.Wi(e,o,n,function UV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=L.fromTimestamp(1e9===r?new Fe(n+1,0):new Fe(n,r));return new Dn(i,A.empty(),e)}(i,-1)))})}ji(e,n){let r=new xe(EU(e));return n.forEach((i,s)=>{Dl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return R0()<=ce.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",W0(n)),this.Ui.getDocumentsMatchingQuery(e,n,Dn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Mce{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Se(q),this.Yi=new ai(s=>Hs(s),Il),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Fj(t,e){return wT.apply(this,arguments)}function wT(){return wT=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),wT.apply(this,arguments)}function Lj(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function qa(t,e,n){return IT.apply(this,arguments)}function IT(){return IT=g(function*(t,e,n){const r=x(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ui(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),IT.apply(this,arguments)}function ag(t,e,n){const r=x(t);let i=L.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Zt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:L.min(),n?s:ee())).next(a=>(function Bj(t,e,n){let r=t.Xi.get(e)||L.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function IU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class CT{constructor(){this.activeTargetIds=function K0(){return Pue}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zj{constructor(){this.Hr=new CT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new CT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fce{Yr(e){}shutdown(){}}class Gj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lg=null;function AT(){return null===lg?lg=268435456+Math.round(2147483648*Math.random()):lg++,"0x"+lg.toString(16)}const Lce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vce{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vt="WebChannelConnection";class Uce extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=AT(),a=this.To(e,n);T("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(T("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw er("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Lce[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=AT();return new Promise((o,a)=>{const u=new Lae;u.setWithCredentials(!0),u.listenOnce(Pae.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case M0.NO_ERROR:const l=u.getResponseJson();T(Vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case M0.TIMEOUT:T(Vt,`RPC '${e}' ${s} timed out`),a(new D(I.DEADLINE_EXCEEDED,"Request time out"));break;case M0.HTTP_ERROR:const d=u.getStatus();if(T(Vt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(I.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{T(Vt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);T(Vt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=AT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Nae(),a=kae(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Fae({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");T(Vt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Vce({ro:y=>{f?T(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(T(Vt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(Vt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,w,_)=>{y.listen(w,b=>{try{_(b)}catch(N){setTimeout(()=>{throw N},0)}})};return m(d,Rp.EventType.OPEN,()=>{f||T(Vt,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Rp.EventType.CLOSE,()=>{f||(f=!0,T(Vt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Rp.EventType.ERROR,y=>{f||(f=!0,er(Vt,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new D(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Rp.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];O(!!_);const N=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(N){T(Vt,`RPC '${e}' stream ${i} received error:`,N);const F=N.status;let X=function(Ut){const Rr=Ze[Ut];if(void 0!==Rr)return jU(Rr)}(F),De=N.message;void 0===X&&(X=I.INTERNAL,De="Unknown error status: "+F+" with message "+N.message),f=!0,p.wo(new D(X,De)),d.close()}else T(Vt,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,Oae.STAT_EVENT,y=>{y.stat===kV.PROXY?T(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===kV.NOPROXY&&T(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function dg(){return typeof document<"u"?document:null}function $l(t){return new Kue(t,!0)}class xT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class jce{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new xT(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(We(n.toString()),We("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new D(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bce extends jce{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Jue(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:k(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(O(void 0===c||"string"==typeof c),ut.fromBase64String(c||"")):(O(void 0===c||c instanceof Uint8Array),ut.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:jU(u.code);return new D(c,u.message||"")}(o);n=new GU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=xr(t,r.document.name),s=Qe(r.document.updateTime),o=r.document.createTime?Qe(r.document.createTime):L.min(),a=new xt({mapValue:{fields:r.document.fields}}),u=Me.newFoundDocument(i,s,o,a);n=new Qp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=xr(t,r.document),s=r.readTime?Qe(r.readTime):L.min(),o=Me.newNoDocument(i,s);n=new Qp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=xr(t,r.document);n=new Qp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return k();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new $ue(i,s);n=new zU(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return L.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?L.min():s.readTime?Qe(s.readTime):L.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Nl(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=$p(a)?{documents:tj(i,a)}:{query:oT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function QU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const u=nT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(L.min())>0){o.readTime=function Ba(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const u=nT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Zue(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Nl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Hce extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Gce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(We(n),this.mu=!1):T("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class qce{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Yi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.vu.add(4),yield Wa(l),l.bu.set("Unknown"),l.vu.delete(4),yield Hl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Gce(r,i)}}function Hl(t){return RT.apply(this,arguments)}function RT(){return RT=g(function*(t){if(Yi(t))for(const e of t.Ru)yield e(!0)}),RT.apply(this,arguments)}function Wa(t){return NT.apply(this,arguments)}function NT(){return NT=g(function*(t){for(const e of t.Ru)yield e(!1)}),NT.apply(this,arguments)}function hg(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),OT(n)?PT(n):Qa(n).Ko()&&kT(n,e))}function zl(t,e){const n=x(t),r=Qa(n);n.Au.delete(e),r.Ko()&&Wj(n,e),0===n.Au.size&&(r.Ko()?r.jo():Yi(n)&&n.bu.set("Unknown"))}function kT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(L.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qa(t).su(e)}function Wj(t,e){t.Vu.qt(e),Qa(t).iu(e)}function PT(t){t.Vu=new zue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Qa(t).start(),t.bu.gu()}function OT(t){return Yi(t)&&!Qa(t).Uo()&&t.Au.size>0}function Yi(t){return 0===x(t).vu.size}function Kj(t){t.Vu=void 0}function Wce(t){return FT.apply(this,arguments)}function FT(){return FT=g(function*(t){t.Au.forEach((e,n)=>{kT(t,e)})}),FT.apply(this,arguments)}function Kce(t,e){return LT.apply(this,arguments)}function LT(){return LT=g(function*(t,e){Kj(t),OT(t)?(t.bu.Iu(e),PT(t)):t.bu.set("Unknown")}),LT.apply(this,arguments)}function Qce(t,e,n){return VT.apply(this,arguments)}function VT(){return VT=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof GU&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield fg(t,r)}else if(e instanceof Qp?t.Vu.Ht(e):e instanceof zU?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(L.min()))try{const r=yield Lj(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(ut.EMPTY_BYTE_STRING,c.snapshotVersion)),Wj(i,a);const l=new ci(c.target,a,u,c.sequenceNumber);kT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield fg(t,r)}var r}),VT.apply(this,arguments)}function fg(t,e,n){return UT.apply(this,arguments)}function UT(){return UT=g(function*(t,e,n){if(!Ui(e))throw e;t.vu.add(1),yield Wa(t),t.bu.set("Offline"),n||(n=()=>Lj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Hl(t)}))}),UT.apply(this,arguments)}function Xj(t,e){return GT.apply(this,arguments)}function GT(){return GT=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=Yi(n);n.vu.add(3),yield Wa(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Hl(n)}),GT.apply(this,arguments)}function WT(){return WT=g(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield Hl(n)):e||(n.vu.add(2),yield Wa(n),n.bu.set("Unknown"))}),WT.apply(this,arguments)}function Qa(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new Bce(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Wce.bind(null,t),ao:Kce.bind(null,t),nu:Qce.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),OT(t)?PT(t):t.bu.set("Unknown")):(yield t.Su.stop(),Kj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class KT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new at,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new KT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ya(t,e){if(We("AsyncQueue",`${e}: ${t}`),Ui(t))return new D(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Ja{constructor(e){this.comparator=e?(n,r)=>e(n,r)||A.comparator(n.key,r.key):(n,r)=>A.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new Ja(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Zj{constructor(){this.Cu=new Se(A.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):k():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xa(e,n,Ja.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&El(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class nle{constructor(){this.Nu=void 0,this.listeners=[]}}class rle{constructor(){this.queries=new ai(e=>wU(e),El),this.onlineState="Unknown",this.ku=new Set}}function YT(){return YT=g(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new nle),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Ya(o,`Initialization of query '${W0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&ZT(n)}),YT.apply(this,arguments)}function XT(){return XT=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),XT.apply(this,arguments)}function ile(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&ZT(n)}function sle(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ZT(t){t.ku.forEach(e=>{e.next()})}class eC{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class nB{constructor(e){this.key=e}}class rB{constructor(e){this.key=e}}class iB{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ee(),this.mutatedKeys=ee(),this.tc=EU(e),this.ec=new Ja(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Zj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Dl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Xa(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ee(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new rB(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new nB(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ee();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Xa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ule{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cle{constructor(e){this.key=e,this.fc=!1}}class lle{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ai(a=>wU(a),El),this._c=new Map,this.mc=new Set,this.gc=new Se(A.comparator),this.yc=new Map,this.Ic=new pT,this.Tc={},this.Ec=new Map,this.Ac=Xs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function dle(t,e){return tC.apply(this,arguments)}function tC(){return tC=g(function*(t,e){const n=function bC(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ple.bind(null,e),e.dc.nu=ile.bind(null,e.eventManager),e.dc.Pc=sle.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Ga(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ci(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Zt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function nC(t,e,n,r,i){return rC.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&hg(n.remoteStore,o)}return i}),tC.apply(this,arguments)}function rC(){return rC=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,w,_){let b=y.view.sc(w);b.zi&&(b=yield ag(m.localStore,y.query,!1).then(({documents:X})=>y.view.sc(X,b)));const N=_&&_.targetChanges.get(y.targetId),F=y.view.applyChanges(b,m.isPrimaryClient,N);return fC(m,y.targetId,F.cc),F.snapshot}),function(m,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield ag(t.localStore,e,!0),o=new iB(e,s.ir),a=o.sc(s.documents),u=Ml.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);fC(t,n,c.cc);const l=new ule(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),rC.apply(this,arguments)}function hle(t,e){return iC.apply(this,arguments)}function iC(){return iC=g(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!El(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield qa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zl(n.remoteStore,r.targetId),Za(n,r.targetId)}).catch(Vi))):(Za(n,r.targetId),yield qa(n.localStore,r.targetId,!0))}),iC.apply(this,arguments)}function sB(t,e){return oC.apply(this,arguments)}function oC(){return oC=g(function*(t,e){const n=x(t);try{const r=yield function Nce(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(ut.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=pn(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function Vj(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(L.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(L.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(O(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?O(o.fc):i.removedDocuments.size>0&&(O(o.fc),o.fc=!1))}),yield li(n,r,e)}catch(r){yield Vi(r)}}),oC.apply(this,arguments)}function oB(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&ZT(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ple(t,e,n){return aC.apply(this,arguments)}function aC(){return aC=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Se(A.comparator);o=o.insert(s,Me.newNoDocument(s,L.min()));const a=ee().add(s),u=new xl(L.min(),new Map,new Se(q),o,a);yield sB(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),pC(r)}else yield qa(r.localStore,e,!1).then(()=>Za(r,e,n)).catch(Vi)}),aC.apply(this,arguments)}function Za(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||aB(t,r)})}function aB(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(zl(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),pC(t))}function fC(t,e,n){for(const r of n)r instanceof nB?(t.Ic.addReference(r.key,e),_le(t,r)):r instanceof rB?(T("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||aB(t,r.key)):k()}function _le(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.mc.add(r),pC(t))}function pC(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new A(ae.fromString(e)),r=t.Ac.next();t.yc.set(r,new cle(n)),t.gc=t.gc.insert(n,r),hg(t.remoteStore,new ci(Zt(Fa(n.path)),r,"TargetPurposeLimboResolution",bn.ct))}}function li(t,e,n){return gC.apply(this,arguments)}function gC(){return gC=g(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=vT.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ui(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),gC.apply(this,arguments)}function vle(t,e){return mC.apply(this,arguments)}function mC(){return mC=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield Fj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new D(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield li(n,r.er)}var i}),mC.apply(this,arguments)}function wle(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return ee().add(r.key);{let i=ee();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class pg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=$l(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Oj(t,e,n,r){return new Mce(t,e,n,r)}(this.persistence,new Pj,e.initialUser,this.serializer)}createPersistence(e){return new gT(ig.zs,this.serializer)}createSharedClientState(e){return new zj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>oB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=vle.bind(null,r.syncEngine),yield function qT(t,e){return WT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rle}createDatastore(e){const n=$l(e.databaseInfo.databaseId),r=new Uce(e.databaseInfo);return new Hce(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>oB(this.syncEngine,a,0),o=Gj.D()?new Gj:new Fce,new qce(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new lle(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=x(n);T("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Wa(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class gg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):We("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class kle{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=LV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new at;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ya(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function mg(t,e){return CC.apply(this,arguments)}function CC(){return CC=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield Fj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),CC.apply(this,arguments)}function SC(t,e){return AC.apply(this,arguments)}function AC(){return AC=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function xC(t){return MC.apply(this,arguments)}(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Xj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Xj(e.remoteStore,s)),t._onlineComponents=e}),AC.apply(this,arguments)}function MC(){return MC=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function fB(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;er("Error using user provided cache. Falling back to memory cache: "+n),yield mg(t,new pg)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield mg(t,new pg);return t._offlineComponents}),MC.apply(this,arguments)}function RC(){return RC=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield SC(t,t._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield SC(t,new eu))),t._onlineComponents}),RC.apply(this,arguments)}function tu(t){return kC.apply(this,arguments)}function kC(){return kC=g(function*(t){const e=yield function yg(t){return RC.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=dle.bind(null,e.syncEngine),n.onUnlisten=hle.bind(null,e.syncEngine),n}),kC.apply(this,arguments)}function vB(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const wB=new Map;function EB(t){if(A.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function vg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":k()}(t);throw new D(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class bB{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $le(t,e,n,r){if(!0===e&&!0===r)throw new D(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bB(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Uae;switch(n.type){case"firstParty":return new Hae(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=wB.get(e);n&&(T("ComponentProvider","Removing Datastore"),wB.delete(e),n.terminate())}(this),Promise.resolve()}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}}class Mt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mt(this.firestore,e,this._query)}}class Mr extends Mt{constructor(e,n,r){super(e,n,Fa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new A(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function zle(t,e,...n){if(t=_r(t),function PC(t,e,n){if(!n)throw new D(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Gl){const r=ae.fromString(e,...n);return EB(r),new Mr(t,null,r)}{if(!(t instanceof Ye||t instanceof Mr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ae.fromString(e,...n));return EB(r),new Mr(t.firestore,null,r)}}class qle{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xT(this,"async_queue_retry"),this.Xc=()=>{const n=dg();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=dg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=dg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new at;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Ui(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,We("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=KT.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&k()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function OC(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Re extends Gl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qle,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||CB(this),this._firestoreClient.terminate()}}function Kle(t,e){const r="string"==typeof t?t:e||"(default)",i=Df("object"==typeof t?t:ew(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=aO("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Hle(t,e,n,r={}){var i;const s=(t=ie(t,Gl))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=gt.MOCK_USER;else{a=function IJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[da(JSON.stringify({alg:"none",type:"JWT"})),da(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gt(c)}t._authCredentials=new jae(new OV(a,u))}}(i,...s)}return i}function CB(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new vue(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,vB(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new kle(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(ut.fromBase64String(e))}catch(n){throw new D(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class FC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}}const nde=new RegExp("[~\\*/\\[\\]]");function Eg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(I.INVALID_ARGUMENT,a+t+u)}class jC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class rde extends jC{data(){return super.data()}}function Dg(t,e){return"string"==typeof e?function Ig(t,e,n){if(e.search(nde)>=0)throw Eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nu(...e.split("."))._internalPath}catch{throw Eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof nu?e._internalPath:e._delegate._internalPath}class sde{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ji(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new FC($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vp(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ae.fromString(e);O(sj(r));const i=new Bs(r.get(1),r.get(3)),s=new A(r.popFirst(5));return i.isEqual(n)||We(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class no{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class su extends jC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sg extends su{data(e={}){return super.data(e)}}class ou{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new no(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sg(this._firestore,this._userDataWriter,r.key,r,new no(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Sg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new no(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Sg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new no(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:ade(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ade(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}class Xi extends sde{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}!function(t,e=!0){Ma=pa,fa(new ot("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Re(new Bae(n.getProvider("auth-internal")),new zae(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),In(PV,"3.13.0",t),In(PV,"3.13.0","esm2017")}();var wde={includeMetadataChanges:!1};function zC(t,e){return void 0===e&&(e=wde),new Le(function(n){var r=function ude(t,...e){var n,r,i;t=_r(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||OC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(OC(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Ye)c=ie(t.firestore,Re),l=Fa(t._key.path),u={next:d=>{e[o]&&e[o](function HC(t,e,n){const r=n.docs.get(e._key),i=new Xi(t);return new su(t,i,e._key,r,new no(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ie(t,Mt);c=ie(d.firestore,Re),l=d._query;const h=new Xi(c);u={next:f=>{e[o]&&e[o](new ou(c,h,d,f))},error:e[o+1],complete:e[o+2]},function UB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new gg(p),y=new eC(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function QT(t,e){return YT.apply(this,arguments)}(yield tu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function JT(t,e){return XT.apply(this,arguments)}(yield tu(d),y)}))}}(function et(t){return t._firestoreClient||CB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Sde(t,e){return void 0===e&&(e={}),function Cde(t){return zC(t,{includeMetadataChanges:!0}).pipe(ve(function(e){return e.docs}))}(t).pipe(ve(function(n){return n.map(function(r){return function WB(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class xg{constructor(e){return e}}const JB="firestore",WC=new V("angularfire2.firestore-instances");function Mde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xg(r)}}const Rde={provide:class Ade{constructor(){return uE(JB)}},deps:[[new Gt,WC]]},Nde={provide:xg,useFactory:function xde(t,e){const n=aE(JB,t,e);return n&&new xg(n)},deps:[[new Gt,WC],_a]};let kde=(()=>{class t{constructor(){In("angularfire",kf.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({providers:[Nde,Rde]}),t})();function Pde(t,...e){return{ngModule:kde,providers:[{provide:WC,useFactory:Mde(t),multi:!0,deps:[we,qt,cE,lE,[new Gt,y2],[new Gt,NE],...e]}]}}const Ode=Mc(Sde,!0),Fde=Mc(zle,!0),Lde=Mc(Kle,!0);function Vde(t,e){if(1&t&&(Go(0,"div")(1,"span",1),Ih(2),qo()()),2&t){const n=e.$implicit;vy(2),Qy(n.username)}}let Ude=(()=>{var t;class e{constructor(r){this.firestore=r,this.title="simplytutorapp",this.users=[];const i=Fde(this.firestore,"users_1");Ode(i).subscribe(o=>{this.users=o})}}return(t=e).\u0275fac=function(r){return new(r||t)(B(xg))},t.\u0275cmp=im({type:t,selectors:[["app-root"]],decls:5,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"user-name"]],template:function(r,i){1&r&&(Go(0,"h2"),Ih(1,"Gurubyo Namaha!! By Mohan"),qo(),Go(2,"h2"),Ih(3,"list of users"),qo(),function e1(t,e,n,r,i,s,o,a){const u=E(),c=oe(),l=t+ne,d=c.firstCreatePass?function _q(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Oo(e,t,4,o||null,mi(c,a));Ty(e,n,l,mi(c,u)),Ed(e,l);const d=l.tView=by(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];lr(d,!1);const h=t1(c,u,d,t);Id()&&Hd(c,u,h,d),Nt(h,u),ch(u,u[l]=DM(h,u,h,d)),md(d)&&Ey(c,u,d),null!=o&&Dy(u,d,a)}(4,Vde,3,1,"div",0)),2&r&&(vy(4),Vy("ngForOf",i.users))},dependencies:[Dk],styles:[".user-name[_ngcontent-%COMP%]{font-size:30px}"]}),e})();const XB_firebase={projectId:"simplytutor-2f4a0",appId:"1:686061012621:web:eb268fe82ea6f021c0c4c4",storageBucket:"simplytutor-2f4a0.appspot.com",apiKey:"AIzaSyBTEHxVvQ3LmoFSCpsmAKRV4AgvOhYfwBE",authDomain:"simplytutor-2f4a0.firebaseapp.com",messagingSenderId:"686061012621",measurementId:"G-VS5Z3WD3TQ"};let jde=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=sr({type:t,bootstrap:[Ude]}),t.\u0275inj=jn({imports:[IK,cJ,Wne(()=>Kne(XB_firebase)),Moe(()=>Roe()),Pde(()=>Lde())]}),e})();vK().bootstrapModule(jde).catch(t=>console.error(t))}},_e=>{_e(_e.s=236)}]);